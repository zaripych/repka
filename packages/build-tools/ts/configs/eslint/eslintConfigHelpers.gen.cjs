// This file is bundled up from './src/*' and needs to be committed
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var node_child_process = require('node:child_process');
var node_url = require('node:url');
var node_crypto = require('node:crypto');
var assert = require('node:assert');
var fg = require('fast-glob');
var node_path = require('node:path');
var jsYaml = require('js-yaml');
var promises = require('node:fs/promises');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

function _interopNamespace(e) {
  if (e && e.__esModule) return e;
  var n = Object.create(null);
  if (e) {
    Object.keys(e).forEach(function (k) {
      if (k !== 'default') {
        var d = Object.getOwnPropertyDescriptor(e, k);
        Object.defineProperty(n, k, d.get ? d : {
          enumerable: true,
          get: function () { return e[k]; }
        });
      }
    });
  }
  n["default"] = e;
  return Object.freeze(n);
}

var assert__default = /*#__PURE__*/_interopDefaultLegacy(assert);
var fg__default = /*#__PURE__*/_interopDefaultLegacy(fg);

const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
const randomText = (length) => {
  const usefulMax = alphabet.length * 4 - 1;
  let result = "";
  while (result.length < length) {
    for (const byte of node_crypto.randomBytes(length)) {
      if (byte <= usefulMax) {
        result += alphabet.charAt(byte % alphabet.length);
      }
      if (result.length === length) {
        break;
      }
    }
  }
  return result;
};

function asyncToSync(module, fn, args) {
  const key = randomText(8);
  const result = node_child_process.spawnSync(process.execPath, [node_url.fileURLToPath((typeof document === 'undefined' ? new (require('u' + 'rl').URL)('file:' + __filename).href : (document.currentScript && document.currentScript.src || new URL('eslintConfigHelpers.gen.cjs', document.baseURI).href))), key], {
    stdio: "pipe",
    encoding: "utf-8",
    cwd: process.cwd(),
    env: {
      [key]: JSON.stringify({
        module: node_url.fileURLToPath(module),
        fn,
        args
      })
    }
  });
  if (result.status !== 0) {
    throw new Error(`${fn} failed: ${result.stderr}`);
  }
  return JSON.parse(result.stdout.trim());
}
const passedKey = process.argv[2];
const serializedConfig = passedKey && process.env[passedKey];
if (passedKey && serializedConfig) {
  const noop = () => {
    return;
  };
  console.log = noop.bind(console);
  console.error = noop.bind(console);
  const config = JSON.parse(serializedConfig);
  (function (t) { return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require(t)); }); })(config.module).then(async (result) => {
    const fn = result[config.fn];
    if (!fn) {
      throw new Error(`${config.fn} not found in ${config.module}`);
    }
    const data = await Promise.resolve(fn(...config.args));
    process.stdout.setEncoding("utf-8");
    process.stdout.write(JSON.stringify(data));
    process.exitCode = 0;
  }).catch((err) => {
    process.stderr.setEncoding("utf-8");
    process.stderr.write(String(err));
    process.exitCode = 1;
  });
}

function isTruthy(value) {
  return Boolean(value);
}

function onceAsync(fn) {
  let value;
  let inFlight;
  let calculated = false;
  return async () => {
    if (calculated) {
      return value;
    }
    if (inFlight) {
      return inFlight;
    }
    inFlight = Promise.resolve(fn());
    value = await inFlight;
    calculated = true;
    inFlight = null;
    return value;
  };
}

const getMonorepoRootScanCandidates = (currentDirectory) => {
  const result = /(.*(?=\/packages\/))|(.*(?=\/node_modules\/))|(.*)/.exec(currentDirectory);
  assert__default["default"](!!result);
  const [, packagesRoot, nodeModulesRoot] = result;
  return [packagesRoot, nodeModulesRoot].filter(isTruthy);
};
const hasMonorepoMarkers = async (candidates) => {
  const markers = [
    ".git",
    "yarn.lock",
    "pnpm-lock.yaml",
    "package-lock.json",
    "pnpm-workspace.yaml"
  ];
  const markersStream = fg__default["default"].stream(candidates.flatMap((dir) => markers.map((marker) => node_path.join(dir, marker))), {
    markDirectories: true,
    onlyFiles: false
  });
  return new Promise((res) => {
    markersStream.on("data", (entry) => {
      res(node_path.dirname(entry));
      if ("destroy" in markersStream) {
        markersStream.destroy();
      }
    });
    markersStream.on("end", () => {
      res(void 0);
    });
  });
};
const prioritizedHasMonorepoMarkers = (jobs) => {
  if (jobs.length === 0) {
    return Promise.resolve(void 0);
  }
  return new Promise((res) => {
    const results = /* @__PURE__ */ new Map();
    const checkShouldComplete = (index, result) => {
      results.set(index, result);
      for (let i = 0; i < jobs.length; i += 1) {
        const hasResult = results.has(i);
        if (!hasResult) {
          break;
        }
        const result2 = results.get(i);
        if (result2) {
          res(result2);
        }
      }
      if (results.size === jobs.length) {
        res(void 0);
      }
    };
    jobs.forEach((directories, index) => {
      hasMonorepoMarkers(directories).then((result) => {
        checkShouldComplete(index, result);
      }).catch(() => {
        return Promise.resolve(void 0);
      });
    });
  });
};
const getMonorepoRootViaDirectoryScan = async (lookupDirectory) => {
  const uniqueDirname = (path) => {
    if (!path) {
      return;
    }
    const result = node_path.dirname(path);
    if (result === path) {
      return;
    }
    return result;
  };
  const parent = uniqueDirname(lookupDirectory);
  const superParent = uniqueDirname(parent);
  return await prioritizedHasMonorepoMarkers([
    [lookupDirectory],
    getMonorepoRootScanCandidates(lookupDirectory),
    [parent],
    [superParent]
  ].map((dirs) => dirs.filter(isTruthy)).filter((job) => job.length > 0)) || lookupDirectory;
};
const monorepoRootPath = onceAsync(async () => {
  const rootPath = await getMonorepoRootViaDirectoryScan(process.cwd());
  return rootPath;
});

function once(fn) {
  let value;
  let calculated = false;
  return () => {
    if (calculated) {
      return value;
    }
    value = fn();
    calculated = true;
    return value;
  };
}

const levels = ["debug", "info", "warn", "error", "fatal"];
const enabledLevelsAfter = (level) => {
  if (level === "off") {
    return [];
  }
  const index = levels.findIndex((item) => item === level);
  if (index === -1) {
    throw new Error("Invalid level");
  }
  return levels.slice(index);
};
const isLevel = (level) => {
  return levels.includes(level);
};
const verbosityOpt = (args = process.argv) => {
  const index = args.findIndex((value) => value === "--verbosity");
  if (index === -1) {
    return "info";
  }
  const level = args[index + 1];
  if (level === "silent" || level === "off") {
    return "off";
  }
  if (!isLevel(level)) {
    return "info";
  }
  return level;
};
const enabledLevels = once(() => enabledLevelsAfter(verbosityOpt()));
const noop = (..._args) => {
  return;
};
const log = (...args) => {
  console.log(...args);
};
const error = (...args) => {
  console.error(...args);
};
const createLogger = (enabled = enabledLevels()) => {
  return levels.reduce((acc, lvl) => {
    return {
      ...acc,
      [lvl]: enabled.includes(lvl) ? ["fatal", "error"].includes(lvl) ? error : log : noop
    };
  }, {
    log: enabled.includes("info") ? log : noop
  });
};
const logger = Object.freeze(createLogger());

const readPackagesGlobs = async (monorepoRoot) => {
  try {
    const text = await promises.readFile(node_path.join(monorepoRoot, "pnpm-workspace.yaml"), "utf-8");
    const rootPath = jsYaml.load(text);
    return rootPath.packages ?? [];
  } catch (err) {
    logger.error(err);
    return [];
  }
};

const eslintConfigHelpers = async () => {
  const root = await monorepoRootPath();
  const globs = await readPackagesGlobs(root);
  return {
    monorepoRootPath: root,
    packagesGlobs: globs,
    tsConfigGlobs: [
      ...new Set(globs.map((glob) => glob !== "*" ? `${glob}/tsconfig.json` : "tsconfig.json"))
    ]
  };
};
const syncEslintConfigHelpers = once(() => {
  return asyncToSync((typeof document === 'undefined' ? new (require('u' + 'rl').URL)('file:' + __filename).href : (document.currentScript && document.currentScript.src || new URL('eslintConfigHelpers.gen.cjs', document.baseURI).href)), "eslintConfigHelpers", []);
});

exports.eslintConfigHelpers = eslintConfigHelpers;
exports.syncEslintConfigHelpers = syncEslintConfigHelpers;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXNsaW50Q29uZmlnSGVscGVycy5nZW4uY2pzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdXRpbHMvcmFuZG9tVGV4dC50cyIsIi4uLy4uL3NyYy91dGlscy9hc3luYy10by1zeW5jL2luZGV4LnRzIiwiLi4vLi4vc3JjL3V0aWxzL2lzVHJ1dGh5LnRzIiwiLi4vLi4vc3JjL3V0aWxzL29uY2VBc3luYy50cyIsIi4uLy4uL3NyYy91dGlscy9tb25vcmVwb1Jvb3RQYXRoLnRzIiwiLi4vLi4vc3JjL3V0aWxzL29uY2UudHMiLCIuLi8uLi9zcmMvbG9nZ2VyL2xvZ2dlci50cyIsIi4uLy4uL3NyYy91dGlscy9yZWFkUGFja2FnZXNHbG9icy50cyIsIi4uLy4uL3NyYy9lc2xpbnQvZXNsaW50Q29uZmlnSGVscGVycy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByYW5kb21CeXRlcyB9IGZyb20gJ2NyeXB0byc7XG5cbi8vIDYyIGFscGhhbnVtZXJpY3MgZnJvbSBBU0NJSTogbnVtYmVycywgY2FwaXRhbHMsIGxvd2VyY2FzZVxuY29uc3QgYWxwaGFiZXQgPVxuICAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODknO1xuXG5leHBvcnQgY29uc3QgcmFuZG9tVGV4dCA9IChsZW5ndGg6IG51bWJlcikgPT4ge1xuICAvLyA2MiAqIDQgLSAxID0gMjQ3IDwgMjU1IC0gOCBudW1iZXJzIGJldHdlZW4gMjQ3IGFuZCAyNTUgYXJlIGRpc2NhcmRlZFxuICBjb25zdCB1c2VmdWxNYXggPSBhbHBoYWJldC5sZW5ndGggKiA0IC0gMTtcbiAgbGV0IHJlc3VsdCA9ICcnO1xuICB3aGlsZSAocmVzdWx0Lmxlbmd0aCA8IGxlbmd0aCkge1xuICAgIGZvciAoY29uc3QgYnl0ZSBvZiByYW5kb21CeXRlcyhsZW5ndGgpKSB7XG4gICAgICBpZiAoYnl0ZSA8PSB1c2VmdWxNYXgpIHtcbiAgICAgICAgcmVzdWx0ICs9IGFscGhhYmV0LmNoYXJBdChieXRlICUgYWxwaGFiZXQubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQubGVuZ3RoID09PSBsZW5ndGgpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwiaW1wb3J0IHsgc3Bhd25TeW5jIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XG5pbXBvcnQgeyBmaWxlVVJMVG9QYXRoIH0gZnJvbSAndXJsJztcblxuaW1wb3J0IHsgcmFuZG9tVGV4dCB9IGZyb20gJy4uL3JhbmRvbVRleHQnO1xuXG4vKipcbiAqIFRvcCBsZXZlbCBoYWNrZXJ5IHdoaWNoIGFsbG93cyB1cyB0byB1c2UgYXN5bmMgZnVuY3Rpb25zIHdoZXJlIG9ubHkgc3luY1xuICogY29kZSB3b3VsZCBoYXZlIGJlZW4gYWxsb3dlZCBkdWUgdG8gZnJhbWV3b3JrIGxpbWl0YXRpb25zIChlLmcuIGVzbGludCBhbmRcbiAqIHN5bmMgSlMgY29uZmlncykuXG4gKlxuICogVGhpcyB3b3JrcyB2aWEgYHNwYXduU3luY2AsIGxvYWRpbmcgYSBtb2R1bGUgZHluYW1pY2FsbHkgaW4gYSBzZXBhcmF0ZSBwcm9jZXNzLFxuICogc2VyaWFsaXppbmcgaW5wdXQgdmlhIGVudiB2YXIgYW5kIG91dHB1dCB2aWEgc3Rkb3V0LlxuICpcbiAqIE5PVEU6IFRoZXJlIG1pZ2h0IGJlIGEgbGltaXQgb24gZW52IHZhciB2YWx1ZSBzaXplcyAtIHRyZWFkIGNhcmVmdWxseVxuICpcbiAqIEBwYXJhbSBtb2R1bGUgTW9kdWxlIHRvIGxvYWQgZHluYW1pY2FsbHkgaW4gdGhlIHNwYXduZWQgcHJvY2Vzc1xuICogQHBhcmFtIGZuIEEgbmFtZWQgZnVuY3Rpb24gdG8gZXhlY3V0ZSB0aGF0IHNob3VsZCBiZSBleHBvcnRlZCBpbiB0aGUgbW9kdWxlXG4gKiBAcGFyYW0gYXJncyBBcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgZnVuY3Rpb24sIHNob3VsZCBiZSBKU09OIHNlcmlhbGl6YWJsZVxuICogQHJldHVybnMgUmVzdWx0IHJldHVybmVkIGJ5IHRoZSBmdW5jdGlvbiwgc2hvdWxkIGJlIEpTT04gc2VyaWFsaXphYmxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3luY1RvU3luYzxUPihtb2R1bGU6IHN0cmluZywgZm46IHN0cmluZywgYXJnczogdW5rbm93bltdKSB7XG4gIGNvbnN0IGtleSA9IHJhbmRvbVRleHQoOCk7XG4gIGNvbnN0IHJlc3VsdCA9IHNwYXduU3luYyhcbiAgICBwcm9jZXNzLmV4ZWNQYXRoLFxuICAgIFtmaWxlVVJMVG9QYXRoKGltcG9ydC5tZXRhLnVybCksIGtleV0sXG4gICAge1xuICAgICAgc3RkaW86ICdwaXBlJyxcbiAgICAgIGVuY29kaW5nOiAndXRmLTgnLFxuICAgICAgY3dkOiBwcm9jZXNzLmN3ZCgpLFxuICAgICAgZW52OiB7XG4gICAgICAgIFtrZXldOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgbW9kdWxlOiBmaWxlVVJMVG9QYXRoKG1vZHVsZSksXG4gICAgICAgICAgZm4sXG4gICAgICAgICAgYXJncyxcbiAgICAgICAgfSksXG4gICAgICB9LFxuICAgIH1cbiAgKTtcbiAgaWYgKHJlc3VsdC5zdGF0dXMgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7Zm59IGZhaWxlZDogJHtyZXN1bHQuc3RkZXJyfWApO1xuICB9XG4gIHJldHVybiBKU09OLnBhcnNlKHJlc3VsdC5zdGRvdXQudHJpbSgpKSBhcyB1bmtub3duIGFzIFQ7XG59XG5cbmNvbnN0IHBhc3NlZEtleSA9IHByb2Nlc3MuYXJndlsyXTtcbmNvbnN0IHNlcmlhbGl6ZWRDb25maWcgPSBwYXNzZWRLZXkgJiYgcHJvY2Vzcy5lbnZbcGFzc2VkS2V5XTtcblxuaWYgKHBhc3NlZEtleSAmJiBzZXJpYWxpemVkQ29uZmlnKSB7XG4gIGNvbnN0IG5vb3AgPSAoKSA9PiB7XG4gICAgcmV0dXJuO1xuICB9O1xuICBjb25zb2xlLmxvZyA9IG5vb3AuYmluZChjb25zb2xlKTtcbiAgY29uc29sZS5lcnJvciA9IG5vb3AuYmluZChjb25zb2xlKTtcbiAgY29uc3QgY29uZmlnID0gSlNPTi5wYXJzZShzZXJpYWxpemVkQ29uZmlnKSBhcyB7XG4gICAgbW9kdWxlOiBzdHJpbmc7XG4gICAgZm46IHN0cmluZztcbiAgICBhcmdzOiB1bmtub3duW107XG4gIH07XG4gIGltcG9ydChjb25maWcubW9kdWxlKVxuICAgIC50aGVuKGFzeW5jIChyZXN1bHQ6IFJlY29yZDxzdHJpbmcsICguLi5hcmdzOiB1bmtub3duW10pID0+IHVua25vd24+KSA9PiB7XG4gICAgICBjb25zdCBmbiA9IHJlc3VsdFtjb25maWcuZm5dO1xuICAgICAgaWYgKCFmbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7Y29uZmlnLmZufSBub3QgZm91bmQgaW4gJHtjb25maWcubW9kdWxlfWApO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IFByb21pc2UucmVzb2x2ZShmbiguLi5jb25maWcuYXJncykpO1xuICAgICAgcHJvY2Vzcy5zdGRvdXQuc2V0RW5jb2RpbmcoJ3V0Zi04Jyk7XG4gICAgICBwcm9jZXNzLnN0ZG91dC53cml0ZShKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICBwcm9jZXNzLmV4aXRDb2RlID0gMDtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBwcm9jZXNzLnN0ZGVyci5zZXRFbmNvZGluZygndXRmLTgnKTtcbiAgICAgIHByb2Nlc3Muc3RkZXJyLndyaXRlKFN0cmluZyhlcnIpKTtcbiAgICAgIHByb2Nlc3MuZXhpdENvZGUgPSAxO1xuICAgIH0pO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGlzVHJ1dGh5PFQ+KFxuICB2YWx1ZTogTm9uTnVsbGFibGU8VD4gfCBmYWxzZSB8IG51bGwgfCB1bmRlZmluZWQgfCAnJyB8IDBcbik6IHZhbHVlIGlzIE5vbk51bGxhYmxlPFQ+IHtcbiAgcmV0dXJuIEJvb2xlYW4odmFsdWUpO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIG9uY2VBc3luYzxUPihmbjogKCkgPT4gVCB8IFByb21pc2U8VD4pOiAoKSA9PiBQcm9taXNlPFQ+IHtcbiAgbGV0IHZhbHVlOiBUO1xuICBsZXQgaW5GbGlnaHQ6IFByb21pc2U8VD4gfCBudWxsO1xuICBsZXQgY2FsY3VsYXRlZCA9IGZhbHNlO1xuICByZXR1cm4gYXN5bmMgKCk6IFByb21pc2U8VD4gPT4ge1xuICAgIGlmIChjYWxjdWxhdGVkKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmIChpbkZsaWdodCkge1xuICAgICAgcmV0dXJuIGluRmxpZ2h0O1xuICAgIH1cbiAgICBpbkZsaWdodCA9IFByb21pc2UucmVzb2x2ZShmbigpKTtcbiAgICB2YWx1ZSA9IGF3YWl0IGluRmxpZ2h0O1xuICAgIGNhbGN1bGF0ZWQgPSB0cnVlO1xuICAgIGluRmxpZ2h0ID0gbnVsbDtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG59XG4iLCJpbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgZmcgZnJvbSAnZmFzdC1nbG9iJztcbmltcG9ydCB7IGRpcm5hbWUsIGpvaW4gfSBmcm9tICdwYXRoJztcblxuaW1wb3J0IHsgaXNUcnV0aHkgfSBmcm9tICcuL2lzVHJ1dGh5JztcbmltcG9ydCB7IG9uY2VBc3luYyB9IGZyb20gJy4vb25jZUFzeW5jJztcblxuY29uc3QgZ2V0TW9ub3JlcG9Sb290U2NhbkNhbmRpZGF0ZXMgPSAoY3VycmVudERpcmVjdG9yeTogc3RyaW5nKSA9PiB7XG4gIC8vIGhhdmluZyAncGFja2FnZXMvKicgaW4gdGhlIHJvb3Qgb2YgYSBtb25vcmVwbyBpcyBzdXBlciBjb21tb25cbiAgY29uc3QgcmVzdWx0ID0gLyguKig/PVxcL3BhY2thZ2VzXFwvKSl8KC4qKD89XFwvbm9kZV9tb2R1bGVzXFwvKSl8KC4qKS8uZXhlYyhcbiAgICBjdXJyZW50RGlyZWN0b3J5XG4gICk7XG4gIGFzc2VydCghIXJlc3VsdCk7XG4gIGNvbnN0IFssIHBhY2thZ2VzUm9vdCwgbm9kZU1vZHVsZXNSb290XSA9IHJlc3VsdDtcbiAgcmV0dXJuIFtwYWNrYWdlc1Jvb3QsIG5vZGVNb2R1bGVzUm9vdF0uZmlsdGVyKGlzVHJ1dGh5KTtcbn07XG5cbi8vIHJldHVybnMgdGhlIGZpcnN0IGRpcmVjdG9yeSB3aGljaCBoYXMgbW9ub3JlcG8gbWFya2VycywgbXVsdGlwbGVcbi8vIGRpcmVjdG9yaWVzIGNhbiBoYXZlIHRoZW0gLSB3aGljaGV2ZXIgcmVhZCBmaXJzdCB3aWxsIGJlIHJldHVybmVkXG4vLyBzbyBpZiBvcmRlciBpcyBpbXBvcnRhbnQgLSBzY2FubmluZyBzaG91bGQgYmUgc2VwYXJhdGVkIHRvIG11bHRpcGxlIGpvYnNcbi8vIHZpYSBwcmlvcml0aXplZEhhc01vbm9yZXBvTWFya2Vyc1xuY29uc3QgaGFzTW9ub3JlcG9NYXJrZXJzID0gYXN5bmMgKGNhbmRpZGF0ZXM6IHN0cmluZ1tdKSA9PiB7XG4gIGNvbnN0IG1hcmtlcnMgPSBbXG4gICAgJy5naXQnLFxuICAgICd5YXJuLmxvY2snLFxuICAgICdwbnBtLWxvY2sueWFtbCcsXG4gICAgJ3BhY2thZ2UtbG9jay5qc29uJyxcbiAgICAncG5wbS13b3Jrc3BhY2UueWFtbCcsXG4gIF07XG4gIGNvbnN0IG1hcmtlcnNTdHJlYW0gPSBmZy5zdHJlYW0oXG4gICAgY2FuZGlkYXRlcy5mbGF0TWFwKChkaXIpID0+IG1hcmtlcnMubWFwKChtYXJrZXIpID0+IGpvaW4oZGlyLCBtYXJrZXIpKSksXG4gICAge1xuICAgICAgbWFya0RpcmVjdG9yaWVzOiB0cnVlLFxuICAgICAgb25seUZpbGVzOiBmYWxzZSxcbiAgICB9XG4gICk7XG4gIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+KChyZXMpID0+IHtcbiAgICBtYXJrZXJzU3RyZWFtLm9uKCdkYXRhJywgKGVudHJ5OiBzdHJpbmcpID0+IHtcbiAgICAgIHJlcyhkaXJuYW1lKGVudHJ5KSk7XG4gICAgICBpZiAoJ2Rlc3Ryb3knIGluIG1hcmtlcnNTdHJlYW0pIHtcbiAgICAgICAgKG1hcmtlcnNTdHJlYW0gYXMgdW5rbm93biBhcyB7IGRlc3Ryb3k6ICgpID0+IHZvaWQgfSkuZGVzdHJveSgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG1hcmtlcnNTdHJlYW0ub24oJ2VuZCcsICgpID0+IHtcbiAgICAgIHJlcyh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmNvbnN0IHByaW9yaXRpemVkSGFzTW9ub3JlcG9NYXJrZXJzID0gKGpvYnM6IHN0cmluZ1tdW10pID0+IHtcbiAgaWYgKGpvYnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpO1xuICB9XG4gIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+KChyZXMpID0+IHtcbiAgICBjb25zdCByZXN1bHRzID0gbmV3IE1hcDxudW1iZXIsIHN0cmluZyB8IHVuZGVmaW5lZD4oKTtcblxuICAgIGNvbnN0IGNoZWNrU2hvdWxkQ29tcGxldGUgPSAoaW5kZXg6IG51bWJlciwgcmVzdWx0OiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IHtcbiAgICAgIHJlc3VsdHMuc2V0KGluZGV4LCByZXN1bHQpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqb2JzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGhhc1Jlc3VsdCA9IHJlc3VsdHMuaGFzKGkpO1xuICAgICAgICBpZiAoIWhhc1Jlc3VsdCkge1xuICAgICAgICAgIC8vIGlmIGEgam9iIHdpdGggaGlnaGVzdCBwcmlvcml0eSBoYXNuJ3QgZmluaXNoZWQgeWV0XG4gICAgICAgICAgLy8gdGhlbiB3YWl0IGZvciBpdFxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3VsdHMuZ2V0KGkpO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgLy8gam9iIGZpbmlzaGVkIGFuZCB3ZSBmb3VuZCBtYXJrZXJzLCBhbHNvIGFsbCBqb2JzXG4gICAgICAgICAgLy8gd2l0aCBoaWdoZXIgcHJpb3JpdHkgZmluaXNoZWQgYW5kIHRoZXkgZG9uJ3QgaGF2ZVxuICAgICAgICAgIC8vIGFueSBtYXJrZXJzIC0gd2UgYXJlIGRvbmVcbiAgICAgICAgICByZXMocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdHMuc2l6ZSA9PT0gam9icy5sZW5ndGgpIHtcbiAgICAgICAgLy8gYWxsIGpvYnMgZmluaXNoZWQgLSBubyBtYXJrZXJzIGZvdW5kXG4gICAgICAgIHJlcyh1bmRlZmluZWQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBqb2JzLmZvckVhY2goKGRpcmVjdG9yaWVzLCBpbmRleCkgPT4ge1xuICAgICAgaGFzTW9ub3JlcG9NYXJrZXJzKGRpcmVjdG9yaWVzKVxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgY2hlY2tTaG91bGRDb21wbGV0ZShpbmRleCwgcmVzdWx0KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAvLyBpZ25vcmVcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRNb25vcmVwb1Jvb3RWaWFEaXJlY3RvcnlTY2FuID0gYXN5bmMgKFxuICBsb29rdXBEaXJlY3Rvcnk6IHN0cmluZ1xuKSA9PiB7XG4gIGNvbnN0IHVuaXF1ZURpcm5hbWUgPSAocGF0aD86IHN0cmluZykgPT4ge1xuICAgIGlmICghcGF0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBkaXJuYW1lKHBhdGgpO1xuICAgIGlmIChyZXN1bHQgPT09IHBhdGgpIHtcbiAgICAgIC8vIGUuZy4gdGhlIHBhdGggd2FzIGFscmVhZHkgYSByb290IFwiL1wiXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgY29uc3QgcGFyZW50ID0gdW5pcXVlRGlybmFtZShsb29rdXBEaXJlY3RvcnkpO1xuICBjb25zdCBzdXBlclBhcmVudCA9IHVuaXF1ZURpcm5hbWUocGFyZW50KTtcblxuICByZXR1cm4gKFxuICAgIChhd2FpdCBwcmlvcml0aXplZEhhc01vbm9yZXBvTWFya2VycyhcbiAgICAgIC8vIHNjYW4gaW4gbW9zdCBsaWtlbHkgbG9jYXRpb25zIGZpcnN0IHdpdGggY3VycmVudCBsb29rdXAgZGlyZWN0b3J5IHRha2luZyBwcmlvcml0eVxuICAgICAgW1xuICAgICAgICBbbG9va3VwRGlyZWN0b3J5XSxcbiAgICAgICAgZ2V0TW9ub3JlcG9Sb290U2NhbkNhbmRpZGF0ZXMobG9va3VwRGlyZWN0b3J5KSxcbiAgICAgICAgLy8gc2NhbiAyIGRpcmVjdG9yaWVzIHVwd2FyZHNcbiAgICAgICAgW3BhcmVudF0sXG4gICAgICAgIFtzdXBlclBhcmVudF0sXG4gICAgICBdXG4gICAgICAgIC5tYXAoKGRpcnMpID0+IGRpcnMuZmlsdGVyKGlzVHJ1dGh5KSlcbiAgICAgICAgLmZpbHRlcigoam9iKSA9PiBqb2IubGVuZ3RoID4gMClcbiAgICApKSB8fCBsb29rdXBEaXJlY3RvcnkgLyogZmFsbGJhY2sgdG8gY3VycmVudCBkaXJlY3RvcnkgaW4gd29yc2Ugc2NlbmFyaW8gKi9cbiAgKTtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lIG1vbm9yZXBvIHJvb3QgcGF0aCBieSBkb2luZyBzb21lIGhhY2t5IGN1cnJlbnQgYW5kXG4gKiBzb21lIHBhcmVudCBkaXJlY3RvcmllcyBzY2FubmluZyBhbmQgbG9va2luZyBmb3IgbWFya2VyIGZpbGVzL2RpcnNcbiAqIGxpa2U6XG4gKlxuICogLSAuZ2l0XG4gKiAtIHBhY2thZ2UtbG9jay5qc29uXG4gKiAtIHlhcm4ubG9ja1xuICogLSBwbnBtLWxvY2sueWFtbFxuICogLSBwbnBtLXdvcmtzcGFjZS55YW1sXG4gKi9cbmV4cG9ydCBjb25zdCBtb25vcmVwb1Jvb3RQYXRoID0gb25jZUFzeW5jKGFzeW5jICgpID0+IHtcbiAgY29uc3Qgcm9vdFBhdGggPSBhd2FpdCBnZXRNb25vcmVwb1Jvb3RWaWFEaXJlY3RvcnlTY2FuKHByb2Nlc3MuY3dkKCkpO1xuICByZXR1cm4gcm9vdFBhdGg7XG59KTtcbiIsImV4cG9ydCBmdW5jdGlvbiBvbmNlPFQ+KGZuOiAoKSA9PiBUKTogKCkgPT4gVCB7XG4gIGxldCB2YWx1ZTogVDtcbiAgbGV0IGNhbGN1bGF0ZWQgPSBmYWxzZTtcbiAgcmV0dXJuICgpOiBUID0+IHtcbiAgICBpZiAoY2FsY3VsYXRlZCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICB2YWx1ZSA9IGZuKCk7XG4gICAgY2FsY3VsYXRlZCA9IHRydWU7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgb25jZSB9IGZyb20gJy4uL3V0aWxzL29uY2UnO1xuXG5jb25zdCBsZXZlbHMgPSBbJ2RlYnVnJywgJ2luZm8nLCAnd2FybicsICdlcnJvcicsICdmYXRhbCddIGFzIGNvbnN0O1xuXG50eXBlIExvZ0xldmVsID0gdHlwZW9mIGxldmVsc1tudW1iZXJdO1xuXG50eXBlIFBhcmFtcyA9IFBhcmFtZXRlcnM8dHlwZW9mIGNvbnNvbGUubG9nPjtcblxudHlwZSBMb2dnZXIgPSB7XG4gIGRlYnVnKC4uLnBhcmFtczogUGFyYW1zKTogdm9pZDtcbiAgaW5mbyguLi5wYXJhbXM6IFBhcmFtcyk6IHZvaWQ7XG4gIGxvZyguLi5wYXJhbXM6IFBhcmFtcyk6IHZvaWQ7XG4gIHdhcm4oLi4ucGFyYW1zOiBQYXJhbXMpOiB2b2lkO1xuICBlcnJvciguLi5wYXJhbXM6IFBhcmFtcyk6IHZvaWQ7XG4gIGZhdGFsKC4uLnBhcmFtczogUGFyYW1zKTogdm9pZDtcbn07XG5cbmNvbnN0IGVuYWJsZWRMZXZlbHNBZnRlciA9IChsZXZlbDogTG9nTGV2ZWwgfCAnb2ZmJykgPT4ge1xuICBpZiAobGV2ZWwgPT09ICdvZmYnKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IGluZGV4ID0gbGV2ZWxzLmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbSA9PT0gbGV2ZWwpO1xuICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGxldmVsJyk7XG4gIH1cbiAgcmV0dXJuIGxldmVscy5zbGljZShpbmRleCk7XG59O1xuXG5jb25zdCBpc0xldmVsID0gKGxldmVsPzogc3RyaW5nKTogbGV2ZWwgaXMgTG9nTGV2ZWwgPT4ge1xuICByZXR1cm4gbGV2ZWxzLmluY2x1ZGVzKGxldmVsIGFzIExvZ0xldmVsKTtcbn07XG5cbmNvbnN0IHZlcmJvc2l0eU9wdCA9IChhcmdzID0gcHJvY2Vzcy5hcmd2KTogTG9nTGV2ZWwgfCAnb2ZmJyA9PiB7XG4gIGNvbnN0IGluZGV4ID0gYXJncy5maW5kSW5kZXgoKHZhbHVlKSA9PiB2YWx1ZSA9PT0gJy0tdmVyYm9zaXR5Jyk7XG4gIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICByZXR1cm4gJ2luZm8nO1xuICB9XG4gIGNvbnN0IGxldmVsID0gYXJnc1tpbmRleCArIDFdO1xuICBpZiAobGV2ZWwgPT09ICdzaWxlbnQnIHx8IGxldmVsID09PSAnb2ZmJykge1xuICAgIHJldHVybiAnb2ZmJztcbiAgfVxuICBpZiAoIWlzTGV2ZWwobGV2ZWwpKSB7XG4gICAgcmV0dXJuICdpbmZvJztcbiAgfVxuICByZXR1cm4gbGV2ZWw7XG59O1xuXG5jb25zdCBlbmFibGVkTGV2ZWxzID0gb25jZSgoKSA9PiBlbmFibGVkTGV2ZWxzQWZ0ZXIodmVyYm9zaXR5T3B0KCkpKTtcblxuY29uc3Qgbm9vcCA9ICguLi5fYXJnczogUGFyYW1zKSA9PiB7XG4gIHJldHVybjtcbn07XG5cbmNvbnN0IGxvZyA9ICguLi5hcmdzOiBQYXJhbXMpID0+IHtcbiAgY29uc29sZS5sb2coLi4uYXJncyk7XG59O1xuXG5jb25zdCBlcnJvciA9ICguLi5hcmdzOiBQYXJhbXMpID0+IHtcbiAgY29uc29sZS5lcnJvciguLi5hcmdzKTtcbn07XG5cbmNvbnN0IGNyZWF0ZUxvZ2dlciA9IChlbmFibGVkID0gZW5hYmxlZExldmVscygpKSA9PiB7XG4gIHJldHVybiBsZXZlbHMucmVkdWNlKFxuICAgIChhY2MsIGx2bCkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYWNjLFxuICAgICAgICBbbHZsXTogZW5hYmxlZC5pbmNsdWRlcyhsdmwpXG4gICAgICAgICAgPyBbJ2ZhdGFsJywgJ2Vycm9yJ10uaW5jbHVkZXMobHZsKVxuICAgICAgICAgICAgPyBlcnJvclxuICAgICAgICAgICAgOiBsb2dcbiAgICAgICAgICA6IG5vb3AsXG4gICAgICB9O1xuICAgIH0sXG4gICAge1xuICAgICAgbG9nOiBlbmFibGVkLmluY2x1ZGVzKCdpbmZvJykgPyBsb2cgOiBub29wLFxuICAgIH0gYXMgTG9nZ2VyXG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgbG9nZ2VyOiBMb2dnZXIgPSBPYmplY3QuZnJlZXplKGNyZWF0ZUxvZ2dlcigpKTtcbiIsImltcG9ydCB7IGxvYWQgfSBmcm9tICdqcy15YW1sJztcbmltcG9ydCB7IHJlYWRGaWxlIH0gZnJvbSAnbm9kZTpmcy9wcm9taXNlcyc7XG5pbXBvcnQgeyBqb2luIH0gZnJvbSAnbm9kZTpwYXRoJztcblxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyL2xvZ2dlcic7XG5cbi8qKlxuICogRGV0ZXJtaW5lIG1vbm9yZXBvIHBhY2thZ2VzIGdsb2IgYnkgcmVhZGluZyBvbmUgb2YgdGhlIHN1cHBvcnRlZFxuICogZmlsZXNcbiAqXG4gKiBOT1RFOiBvbmx5IHBucG0gaXMgc3VwcG9ydGVkIGF0IHRoZSBtb21lbnRcbiAqL1xuZXhwb3J0IGNvbnN0IHJlYWRQYWNrYWdlc0dsb2JzID0gYXN5bmMgKG1vbm9yZXBvUm9vdDogc3RyaW5nKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlYWRGaWxlKFxuICAgICAgam9pbihtb25vcmVwb1Jvb3QsICdwbnBtLXdvcmtzcGFjZS55YW1sJyksXG4gICAgICAndXRmLTgnXG4gICAgKTtcbiAgICBjb25zdCByb290UGF0aCA9IGxvYWQodGV4dCkgYXMge1xuICAgICAgcGFja2FnZXM/OiBzdHJpbmdbXTtcbiAgICB9O1xuICAgIHJldHVybiByb290UGF0aC5wYWNrYWdlcyA/PyBbXTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmVycm9yKGVycik7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgYXN5bmNUb1N5bmMgfSBmcm9tICcuLi91dGlscy9hc3luYy10by1zeW5jJztcbmltcG9ydCB7IG1vbm9yZXBvUm9vdFBhdGggfSBmcm9tICcuLi91dGlscy9tb25vcmVwb1Jvb3RQYXRoJztcbmltcG9ydCB7IG9uY2UgfSBmcm9tICcuLi91dGlscy9vbmNlJztcbmltcG9ydCB7IHJlYWRQYWNrYWdlc0dsb2JzIH0gZnJvbSAnLi4vdXRpbHMvcmVhZFBhY2thZ2VzR2xvYnMnO1xuXG5leHBvcnQgY29uc3QgZXNsaW50Q29uZmlnSGVscGVycyA9IGFzeW5jICgpID0+IHtcbiAgY29uc3Qgcm9vdCA9IGF3YWl0IG1vbm9yZXBvUm9vdFBhdGgoKTtcbiAgY29uc3QgZ2xvYnMgPSBhd2FpdCByZWFkUGFja2FnZXNHbG9icyhyb290KTtcbiAgcmV0dXJuIHtcbiAgICBtb25vcmVwb1Jvb3RQYXRoOiByb290LFxuICAgIHBhY2thZ2VzR2xvYnM6IGdsb2JzLFxuICAgIHRzQ29uZmlnR2xvYnM6IFtcbiAgICAgIC4uLm5ldyBTZXQoXG4gICAgICAgIGdsb2JzLm1hcCgoZ2xvYikgPT5cbiAgICAgICAgICBnbG9iICE9PSAnKicgPyBgJHtnbG9ifS90c2NvbmZpZy5qc29uYCA6ICd0c2NvbmZpZy5qc29uJ1xuICAgICAgICApXG4gICAgICApLFxuICAgIF0sXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3Qgc3luY0VzbGludENvbmZpZ0hlbHBlcnMgPSBvbmNlKCgpID0+IHtcbiAgcmV0dXJuIGFzeW5jVG9TeW5jPHN0cmluZz4oaW1wb3J0Lm1ldGEudXJsLCAnZXNsaW50Q29uZmlnSGVscGVycycsIFtdKTtcbn0pO1xuIl0sIm5hbWVzIjpbInJhbmRvbUJ5dGVzIiwic3Bhd25TeW5jIiwiZmlsZVVSTFRvUGF0aCIsImFzc2VydCIsImZnIiwiam9pbiIsImRpcm5hbWUiLCJyZWFkRmlsZSIsImxvYWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHQSxNQUFNLFFBQ0osR0FBQSxnRUFBQSxDQUFBO0FBRUssTUFBTSxVQUFBLEdBQWEsQ0FBQyxNQUFtQixLQUFBO0FBRTVDLEVBQU0sTUFBQSxTQUFBLEdBQVksUUFBUyxDQUFBLE1BQUEsR0FBUyxDQUFJLEdBQUEsQ0FBQSxDQUFBO0FBQ3hDLEVBQUEsSUFBSSxNQUFTLEdBQUEsRUFBQSxDQUFBO0FBQ2IsRUFBTyxPQUFBLE1BQUEsQ0FBTyxTQUFTLE1BQVEsRUFBQTtBQUM3QixJQUFXLEtBQUEsTUFBQSxJQUFBLElBQVFBLHVCQUFZLENBQUEsTUFBTSxDQUFHLEVBQUE7QUFDdEMsTUFBQSxJQUFJLFFBQVEsU0FBVyxFQUFBO0FBQ3JCLFFBQUEsTUFBQSxJQUFVLFFBQVMsQ0FBQSxNQUFBLENBQU8sSUFBTyxHQUFBLFFBQUEsQ0FBUyxNQUFNLENBQUEsQ0FBQTtBQUFBLE9BQ2xEO0FBQ0EsTUFBSSxJQUFBLE1BQUEsQ0FBTyxXQUFXLE1BQVEsRUFBQTtBQUM1QixRQUFBLE1BQUE7QUFBQSxPQUNGO0FBQUEsS0FDRjtBQUFBLEdBQ0Y7QUFDQSxFQUFPLE9BQUEsTUFBQSxDQUFBO0FBQ1QsQ0FBQTs7QUNETyxTQUF3QixXQUFBLENBQUEsTUFBQSxFQUFnQixJQUFZLElBQWlCLEVBQUE7QUFDMUUsRUFBTSxNQUFBLEdBQUEsR0FBTSxXQUFXLENBQUMsQ0FBQSxD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
