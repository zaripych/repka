// This file is bundled up from './src/*' and needs to be committed
'use strict';

var node_child_process = require('node:child_process');
var node_url = require('node:url');
var node_crypto = require('node:crypto');
var promises = require('node:fs/promises');
var node_path = require('node:path');
var jsYaml = require('js-yaml');
var assert = require('node:assert');
var fg = require('fast-glob');

function isTruthy(value) {
  return Boolean(value);
}

function once(fn) {
  let value;
  let calculated = false;
  return () => {
    if (calculated) {
      return value;
    }
    value = fn();
    calculated = true;
    return value;
  };
}

function onceAsync(fn) {
  let value;
  let inFlight;
  let calculated = false;
  return async () => {
    if (calculated) {
      return value;
    }
    if (inFlight) {
      return inFlight;
    }
    inFlight = Promise.resolve(fn());
    value = await inFlight;
    calculated = true;
    inFlight = null;
    return value;
  };
}

const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
const randomText = (length) => {
  const usefulMax = alphabet.length * 4 - 1;
  let result = "";
  while (result.length < length) {
    for (const byte of node_crypto.randomBytes(length)) {
      if (byte <= usefulMax) {
        result += alphabet.charAt(byte % alphabet.length);
      }
      if (result.length === length) {
        break;
      }
    }
  }
  return result;
};

function asyncToSync(module, fn, args) {
  const key = randomText(8);
  const result = node_child_process.spawnSync(
    process.execPath,
    [node_url.fileURLToPath((typeof document === 'undefined' ? require('u' + 'rl').pathToFileURL(__filename).href : (document.currentScript && document.currentScript.src || new URL('eslintConfigHelpers.gen.cjs', document.baseURI).href))), key],
    {
      stdio: "pipe",
      encoding: "utf-8",
      cwd: process.cwd(),
      env: {
        ELECTRON_RUN_AS_NODE: "1",
        [key]: JSON.stringify({
          module: node_url.fileURLToPath(module),
          fn,
          args
        })
      }
    }
  );
  if (result.status !== 0) {
    throw new Error(`${fn} failed: ${result.stderr}`);
  }
  return JSON.parse(result.stdout.trim());
}
const passedKey = process.argv[2];
const serializedConfig = passedKey && process.env[passedKey];
if (passedKey && serializedConfig) {
  const noop = () => {
    return;
  };
  console.log = noop.bind(console);
  console.error = noop.bind(console);
  const config = JSON.parse(serializedConfig);
  import(config.module).then(async (result) => {
    const fn = result[config.fn];
    if (!fn) {
      throw new Error(`${config.fn} not found in ${config.module}`);
    }
    const data = await Promise.resolve(fn(...config.args));
    process.stdout.setEncoding("utf-8");
    process.stdout.write(JSON.stringify(data));
    process.exitCode = 0;
  }).catch((err) => {
    process.stderr.setEncoding("utf-8");
    process.stderr.write(String(err));
    process.exitCode = 1;
  });
}

const getRepositoryRootScanCandidates = (currentDirectory) => {
  const result = /(.*(?=\/packages\/))|(.*(?=\/node_modules\/))|(.*)/.exec(
    currentDirectory
  );
  assert(!!result);
  const [, packagesRoot, nodeModulesRoot] = result;
  return [packagesRoot, nodeModulesRoot].filter(isTruthy);
};
const hasRootMarkers = async (candidates) => {
  const markers = [
    ".git",
    "yarn.lock",
    "pnpm-lock.yaml",
    "package-lock.json",
    "pnpm-workspace.yaml"
  ];
  const markersStream = fg.stream(
    candidates.flatMap((dir) => markers.map((marker) => node_path.join(dir, marker))),
    {
      markDirectories: true,
      onlyFiles: false
    }
  );
  for await (const entry of markersStream) {
    assert(typeof entry === "string");
    return node_path.dirname(entry);
  }
  return void 0;
};
const prioritizedHasMarkers = (jobs) => {
  if (jobs.length === 0) {
    return Promise.resolve(void 0);
  }
  return new Promise((res) => {
    const results = /* @__PURE__ */ new Map();
    const checkShouldComplete = (index, result) => {
      results.set(index, result);
      for (let i = 0; i < jobs.length; i += 1) {
        const hasResult = results.has(i);
        if (!hasResult) {
          break;
        }
        const result2 = results.get(i);
        if (result2) {
          res(result2);
        }
      }
      if (results.size === jobs.length) {
        res(void 0);
      }
    };
    jobs.forEach((directories, index) => {
      hasRootMarkers(directories).then((result) => {
        checkShouldComplete(index, result);
      }).catch(() => {
        return Promise.resolve(void 0);
      });
    });
  });
};
const repositoryRootPathViaDirectoryScan = async (lookupDirectory) => {
  const uniqueDirname = (path) => {
    if (!path) {
      return;
    }
    const result = node_path.dirname(path);
    if (result === path) {
      return;
    }
    return result;
  };
  const parent = uniqueDirname(lookupDirectory);
  const superParent = uniqueDirname(parent);
  return await prioritizedHasMarkers(
    // scan in most likely locations first with current lookup directory taking priority
    [
      [lookupDirectory],
      getRepositoryRootScanCandidates(lookupDirectory),
      // scan 2 directories upwards
      [parent],
      [superParent]
    ].map((dirs) => dirs.filter(isTruthy)).filter((job) => job.length > 0)
  ) || lookupDirectory;
};
const repositoryRootPath = onceAsync(async () => {
  const rootPath = await repositoryRootPathViaDirectoryScan(process.cwd());
  return rootPath;
});

async function tryReadingPnpmWorkspaceYaml(monorepoRoot) {
  const text = await promises.readFile(
    node_path.join(monorepoRoot, "pnpm-workspace.yaml"),
    "utf-8"
  );
  const rootPath = jsYaml.load(text);
  return Array.isArray(rootPath.packages) && rootPath.packages.length > 0 ? rootPath.packages : void 0;
}
async function tryReadingPackageJsonWorkspaces(monorepoRoot) {
  const text = await promises.readFile(node_path.join(monorepoRoot, "package.json"), "utf-8");
  const packageJson = JSON.parse(text);
  return Array.isArray(packageJson.workspaces) && packageJson.workspaces.length > 0 ? packageJson.workspaces : void 0;
}
const readPackagesGlobsAt = async (monorepoRoot) => {
  const [pnpmWorkspaces, packageJsonWorkspaces] = await Promise.all([
    tryReadingPnpmWorkspaceYaml(monorepoRoot).catch(() => void 0),
    tryReadingPackageJsonWorkspaces(monorepoRoot).catch(() => void 0)
  ]);
  return pnpmWorkspaces || packageJsonWorkspaces || [];
};
const readMonorepoPackagesGlobs = onceAsync(async () => {
  const root = await repositoryRootPath();
  const packagesGlobs = await readPackagesGlobsAt(root);
  return {
    root,
    packagesGlobs
  };
});

const eslintConfigHelpers = async () => {
  const { root, packagesGlobs } = await readMonorepoPackagesGlobs();
  const globs = new Set(
    packagesGlobs.map(
      (glob) => glob !== "*" ? `${glob}/tsconfig.json` : "tsconfig.json"
    )
  );
  return {
    monorepoRootPath: root,
    packagesGlobs,
    tsConfigGlobs: globs.size === 0 ? ["tsconfig.json"] : [...globs]
  };
};
const syncEslintConfigHelpers = once(() => {
  return asyncToSync(
    (typeof document === 'undefined' ? require('u' + 'rl').pathToFileURL(__filename).href : (document.currentScript && document.currentScript.src || new URL('eslintConfigHelpers.gen.cjs', document.baseURI).href)),
    "eslintConfigHelpers",
    []
  );
});

exports.eslintConfigHelpers = eslintConfigHelpers;
exports.syncEslintConfigHelpers = syncEslintConfigHelpers;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXNsaW50Q29uZmlnSGVscGVycy5nZW4uY2pzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi91dGlscy90cy9zcmMvaXNUcnV0aHkudHMiLCIuLi8uLi8uLi8uLi91dGlscy90cy9zcmMvb25jZS50cyIsIi4uLy4uLy4uLy4uL3V0aWxzL3RzL3NyYy9vbmNlQXN5bmMudHMiLCIuLi8uLi9zcmMvdXRpbHMvcmFuZG9tVGV4dC50cyIsIi4uLy4uL3NyYy91dGlscy9hc3luYy10by1zeW5jL2luZGV4LnRzIiwiLi4vLi4vc3JjL3V0aWxzL3JlcG9zaXRvcnlSb290UGF0aC50cyIsIi4uLy4uL3NyYy91dGlscy9yZWFkUGFja2FnZXNHbG9icy50cyIsIi4uLy4uL3NyYy9lc2xpbnQvZXNsaW50Q29uZmlnSGVscGVycy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gaXNUcnV0aHk8VD4oXG4gIHZhbHVlOiBOb25OdWxsYWJsZTxUPiB8IGZhbHNlIHwgbnVsbCB8IHVuZGVmaW5lZCB8ICcnIHwgMFxuKTogdmFsdWUgaXMgTm9uTnVsbGFibGU8VD4ge1xuICByZXR1cm4gQm9vbGVhbih2YWx1ZSk7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gb25jZTxUPihmbjogKCkgPT4gVCk6ICgpID0+IFQge1xuICBsZXQgdmFsdWU6IFQ7XG4gIGxldCBjYWxjdWxhdGVkID0gZmFsc2U7XG4gIHJldHVybiAoKTogVCA9PiB7XG4gICAgaWYgKGNhbGN1bGF0ZWQpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgdmFsdWUgPSBmbigpO1xuICAgIGNhbGN1bGF0ZWQgPSB0cnVlO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBvbmNlQXN5bmM8VD4oZm46ICgpID0+IFQgfCBQcm9taXNlPFQ+KTogKCkgPT4gUHJvbWlzZTxUPiB7XG4gIGxldCB2YWx1ZTogVDtcbiAgbGV0IGluRmxpZ2h0OiBQcm9taXNlPFQ+IHwgbnVsbDtcbiAgbGV0IGNhbGN1bGF0ZWQgPSBmYWxzZTtcbiAgcmV0dXJuIGFzeW5jICgpOiBQcm9taXNlPFQ+ID0+IHtcbiAgICBpZiAoY2FsY3VsYXRlZCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAoaW5GbGlnaHQpIHtcbiAgICAgIHJldHVybiBpbkZsaWdodDtcbiAgICB9XG4gICAgaW5GbGlnaHQgPSBQcm9taXNlLnJlc29sdmUoZm4oKSk7XG4gICAgdmFsdWUgPSBhd2FpdCBpbkZsaWdodDtcbiAgICBjYWxjdWxhdGVkID0gdHJ1ZTtcbiAgICBpbkZsaWdodCA9IG51bGw7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgcmFuZG9tQnl0ZXMgfSBmcm9tICdjcnlwdG8nO1xuXG4vLyA2MiBhbHBoYW51bWVyaWNzIGZyb20gQVNDSUk6IG51bWJlcnMsIGNhcGl0YWxzLCBsb3dlcmNhc2VcbmNvbnN0IGFscGhhYmV0ID1cbiAgJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcblxuZXhwb3J0IGNvbnN0IHJhbmRvbVRleHQgPSAobGVuZ3RoOiBudW1iZXIpID0+IHtcbiAgLy8gNjIgKiA0IC0gMSA9IDI0NyA8IDI1NSAtIDggbnVtYmVycyBiZXR3ZWVuIDI0NyBhbmQgMjU1IGFyZSBkaXNjYXJkZWRcbiAgY29uc3QgdXNlZnVsTWF4ID0gYWxwaGFiZXQubGVuZ3RoICogNCAtIDE7XG4gIGxldCByZXN1bHQgPSAnJztcbiAgd2hpbGUgKHJlc3VsdC5sZW5ndGggPCBsZW5ndGgpIHtcbiAgICBmb3IgKGNvbnN0IGJ5dGUgb2YgcmFuZG9tQnl0ZXMobGVuZ3RoKSkge1xuICAgICAgaWYgKGJ5dGUgPD0gdXNlZnVsTWF4KSB7XG4gICAgICAgIHJlc3VsdCArPSBhbHBoYWJldC5jaGFyQXQoYnl0ZSAlIGFscGhhYmV0Lmxlbmd0aCk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gbGVuZ3RoKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsImltcG9ydCB7IHNwYXduU3luYyB9IGZyb20gJ2NoaWxkX3Byb2Nlc3MnO1xuaW1wb3J0IHsgZmlsZVVSTFRvUGF0aCB9IGZyb20gJ3VybCc7XG5cbmltcG9ydCB7IHJhbmRvbVRleHQgfSBmcm9tICcuLi9yYW5kb21UZXh0JztcblxuLyoqXG4gKiBUb3AgbGV2ZWwgaGFja2VyeSB3aGljaCBhbGxvd3MgdXMgdG8gdXNlIGFzeW5jIGZ1bmN0aW9ucyB3aGVyZSBvbmx5IHN5bmNcbiAqIGNvZGUgd291bGQgaGF2ZSBiZWVuIGFsbG93ZWQgZHVlIHRvIGZyYW1ld29yayBsaW1pdGF0aW9ucyAoZS5nLiBlc2xpbnQgYW5kXG4gKiBzeW5jIEpTIGNvbmZpZ3MpLlxuICpcbiAqIFRoaXMgd29ya3MgdmlhIGBzcGF3blN5bmNgLCBsb2FkaW5nIGEgbW9kdWxlIGR5bmFtaWNhbGx5IGluIGEgc2VwYXJhdGUgcHJvY2VzcyxcbiAqIHNlcmlhbGl6aW5nIGlucHV0IHZpYSBlbnYgdmFyIGFuZCBvdXRwdXQgdmlhIHN0ZG91dC5cbiAqXG4gKiBOT1RFOiBUaGVyZSBtaWdodCBiZSBhIGxpbWl0IG9uIGVudiB2YXIgdmFsdWUgc2l6ZXMgLSB0cmVhZCBjYXJlZnVsbHlcbiAqXG4gKiBAcGFyYW0gbW9kdWxlIE1vZHVsZSB0byBsb2FkIGR5bmFtaWNhbGx5IGluIHRoZSBzcGF3bmVkIHByb2Nlc3NcbiAqIEBwYXJhbSBmbiBBIG5hbWVkIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgdGhhdCBzaG91bGQgYmUgZXhwb3J0ZWQgaW4gdGhlIG1vZHVsZVxuICogQHBhcmFtIGFyZ3MgQXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIGZ1bmN0aW9uLCBzaG91bGQgYmUgSlNPTiBzZXJpYWxpemFibGVcbiAqIEByZXR1cm5zIFJlc3VsdCByZXR1cm5lZCBieSB0aGUgZnVuY3Rpb24sIHNob3VsZCBiZSBKU09OIHNlcmlhbGl6YWJsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXN5bmNUb1N5bmM8VD4obW9kdWxlOiBzdHJpbmcsIGZuOiBzdHJpbmcsIGFyZ3M6IHVua25vd25bXSkge1xuICBjb25zdCBrZXkgPSByYW5kb21UZXh0KDgpO1xuICBjb25zdCByZXN1bHQgPSBzcGF3blN5bmMoXG4gICAgcHJvY2Vzcy5leGVjUGF0aCxcbiAgICBbZmlsZVVSTFRvUGF0aChpbXBvcnQubWV0YS51cmwpLCBrZXldLFxuICAgIHtcbiAgICAgIHN0ZGlvOiAncGlwZScsXG4gICAgICBlbmNvZGluZzogJ3V0Zi04JyxcbiAgICAgIGN3ZDogcHJvY2Vzcy5jd2QoKSxcbiAgICAgIGVudjoge1xuICAgICAgICBFTEVDVFJPTl9SVU5fQVNfTk9ERTogJzEnLFxuICAgICAgICBba2V5XTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG1vZHVsZTogZmlsZVVSTFRvUGF0aChtb2R1bGUpLFxuICAgICAgICAgIGZuLFxuICAgICAgICAgIGFyZ3MsXG4gICAgICAgIH0pLFxuICAgICAgfSxcbiAgICB9XG4gICk7XG4gIGlmIChyZXN1bHQuc3RhdHVzICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGAke2ZufSBmYWlsZWQ6ICR7cmVzdWx0LnN0ZGVycn1gKTtcbiAgfVxuICByZXR1cm4gSlNPTi5wYXJzZShyZXN1bHQuc3Rkb3V0LnRyaW0oKSkgYXMgdW5rbm93biBhcyBUO1xufVxuXG5jb25zdCBwYXNzZWRLZXkgPSBwcm9jZXNzLmFyZ3ZbMl07XG5jb25zdCBzZXJpYWxpemVkQ29uZmlnID0gcGFzc2VkS2V5ICYmIHByb2Nlc3MuZW52W3Bhc3NlZEtleV07XG5cbmlmIChwYXNzZWRLZXkgJiYgc2VyaWFsaXplZENvbmZpZykge1xuICBjb25zdCBub29wID0gKCkgPT4ge1xuICAgIHJldHVybjtcbiAgfTtcbiAgY29uc29sZS5sb2cgPSBub29wLmJpbmQoY29uc29sZSk7XG4gIGNvbnNvbGUuZXJyb3IgPSBub29wLmJpbmQoY29uc29sZSk7XG4gIGNvbnN0IGNvbmZpZyA9IEpTT04ucGFyc2Uoc2VyaWFsaXplZENvbmZpZykgYXMge1xuICAgIG1vZHVsZTogc3RyaW5nO1xuICAgIGZuOiBzdHJpbmc7XG4gICAgYXJnczogdW5rbm93bltdO1xuICB9O1xuICBpbXBvcnQoY29uZmlnLm1vZHVsZSlcbiAgICAudGhlbihhc3luYyAocmVzdWx0OiBSZWNvcmQ8c3RyaW5nLCAoLi4uYXJnczogdW5rbm93bltdKSA9PiB1bmtub3duPikgPT4ge1xuICAgICAgY29uc3QgZm4gPSByZXN1bHRbY29uZmlnLmZuXTtcbiAgICAgIGlmICghZm4pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2NvbmZpZy5mbn0gbm90IGZvdW5kIGluICR7Y29uZmlnLm1vZHVsZX1gKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBQcm9taXNlLnJlc29sdmUoZm4oLi4uY29uZmlnLmFyZ3MpKTtcbiAgICAgIHByb2Nlc3Muc3Rkb3V0LnNldEVuY29kaW5nKCd1dGYtOCcpO1xuICAgICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgcHJvY2Vzcy5leGl0Q29kZSA9IDA7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgcHJvY2Vzcy5zdGRlcnIuc2V0RW5jb2RpbmcoJ3V0Zi04Jyk7XG4gICAgICBwcm9jZXNzLnN0ZGVyci53cml0ZShTdHJpbmcoZXJyKSk7XG4gICAgICBwcm9jZXNzLmV4aXRDb2RlID0gMTtcbiAgICB9KTtcbn1cbiIsImltcG9ydCBhc3NlcnQgZnJvbSAnbm9kZTphc3NlcnQnO1xuaW1wb3J0IHsgZGlybmFtZSwgam9pbiB9IGZyb20gJ25vZGU6cGF0aCc7XG5cbmltcG9ydCB7IGlzVHJ1dGh5LCBvbmNlQXN5bmMgfSBmcm9tICdAdXRpbHMvdHMnO1xuaW1wb3J0IGZnIGZyb20gJ2Zhc3QtZ2xvYic7XG5cbmNvbnN0IGdldFJlcG9zaXRvcnlSb290U2NhbkNhbmRpZGF0ZXMgPSAoY3VycmVudERpcmVjdG9yeTogc3RyaW5nKSA9PiB7XG4gIC8vIGhhdmluZyAncGFja2FnZXMvKicgaW4gdGhlIHJvb3Qgb2YgYSBtb25vcmVwbyBpcyBzdXBlciBjb21tb25cbiAgY29uc3QgcmVzdWx0ID0gLyguKig/PVxcL3BhY2thZ2VzXFwvKSl8KC4qKD89XFwvbm9kZV9tb2R1bGVzXFwvKSl8KC4qKS8uZXhlYyhcbiAgICBjdXJyZW50RGlyZWN0b3J5XG4gICk7XG4gIGFzc2VydCghIXJlc3VsdCk7XG4gIGNvbnN0IFssIHBhY2thZ2VzUm9vdCwgbm9kZU1vZHVsZXNSb290XSA9IHJlc3VsdDtcbiAgcmV0dXJuIFtwYWNrYWdlc1Jvb3QsIG5vZGVNb2R1bGVzUm9vdF0uZmlsdGVyKGlzVHJ1dGh5KTtcbn07XG5cbi8vIHJldHVybnMgdGhlIGZpcnN0IGRpcmVjdG9yeSB3aGljaCBoYXMgbW9ub3JlcG8gbWFya2VycywgbXVsdGlwbGVcbi8vIGRpcmVjdG9yaWVzIGNhbiBoYXZlIHRoZW0gLSB3aGljaGV2ZXIgcmVhZCBmaXJzdCB3aWxsIGJlIHJldHVybmVkXG4vLyBzbyBpZiBvcmRlciBpcyBpbXBvcnRhbnQgLSBzY2FubmluZyBzaG91bGQgYmUgc2VwYXJhdGVkIHRvIG11bHRpcGxlIGpvYnNcbi8vIHZpYSBwcmlvcml0aXplZEhhc01vbm9yZXBvTWFya2Vyc1xuY29uc3QgaGFzUm9vdE1hcmtlcnMgPSBhc3luYyAoY2FuZGlkYXRlczogc3RyaW5nW10pID0+IHtcbiAgY29uc3QgbWFya2VycyA9IFtcbiAgICAnLmdpdCcsXG4gICAgJ3lhcm4ubG9jaycsXG4gICAgJ3BucG0tbG9jay55YW1sJyxcbiAgICAncGFja2FnZS1sb2NrLmpzb24nLFxuICAgICdwbnBtLXdvcmtzcGFjZS55YW1sJyxcbiAgXTtcbiAgY29uc3QgbWFya2Vyc1N0cmVhbSA9IGZnLnN0cmVhbShcbiAgICBjYW5kaWRhdGVzLmZsYXRNYXAoKGRpcikgPT4gbWFya2Vycy5tYXAoKG1hcmtlcikgPT4gam9pbihkaXIsIG1hcmtlcikpKSxcbiAgICB7XG4gICAgICBtYXJrRGlyZWN0b3JpZXM6IHRydWUsXG4gICAgICBvbmx5RmlsZXM6IGZhbHNlLFxuICAgIH1cbiAgKTtcbiAgZm9yIGF3YWl0IChjb25zdCBlbnRyeSBvZiBtYXJrZXJzU3RyZWFtKSB7XG4gICAgYXNzZXJ0KHR5cGVvZiBlbnRyeSA9PT0gJ3N0cmluZycpO1xuICAgIHJldHVybiBkaXJuYW1lKGVudHJ5KTtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuY29uc3QgcHJpb3JpdGl6ZWRIYXNNYXJrZXJzID0gKGpvYnM6IHN0cmluZ1tdW10pID0+IHtcbiAgaWYgKGpvYnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpO1xuICB9XG4gIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+KChyZXMpID0+IHtcbiAgICBjb25zdCByZXN1bHRzID0gbmV3IE1hcDxudW1iZXIsIHN0cmluZyB8IHVuZGVmaW5lZD4oKTtcblxuICAgIGNvbnN0IGNoZWNrU2hvdWxkQ29tcGxldGUgPSAoaW5kZXg6IG51bWJlciwgcmVzdWx0OiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IHtcbiAgICAgIHJlc3VsdHMuc2V0KGluZGV4LCByZXN1bHQpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqb2JzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGhhc1Jlc3VsdCA9IHJlc3VsdHMuaGFzKGkpO1xuICAgICAgICBpZiAoIWhhc1Jlc3VsdCkge1xuICAgICAgICAgIC8vIGlmIGEgam9iIHdpdGggaGlnaGVzdCBwcmlvcml0eSBoYXNuJ3QgZmluaXNoZWQgeWV0XG4gICAgICAgICAgLy8gdGhlbiB3YWl0IGZvciBpdFxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3VsdHMuZ2V0KGkpO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgLy8gam9iIGZpbmlzaGVkIGFuZCB3ZSBmb3VuZCBtYXJrZXJzLCBhbHNvIGFsbCBqb2JzXG4gICAgICAgICAgLy8gd2l0aCBoaWdoZXIgcHJpb3JpdHkgZmluaXNoZWQgYW5kIHRoZXkgZG9uJ3QgaGF2ZVxuICAgICAgICAgIC8vIGFueSBtYXJrZXJzIC0gd2UgYXJlIGRvbmVcbiAgICAgICAgICByZXMocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdHMuc2l6ZSA9PT0gam9icy5sZW5ndGgpIHtcbiAgICAgICAgLy8gYWxsIGpvYnMgZmluaXNoZWQgLSBubyBtYXJrZXJzIGZvdW5kXG4gICAgICAgIHJlcyh1bmRlZmluZWQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBqb2JzLmZvckVhY2goKGRpcmVjdG9yaWVzLCBpbmRleCkgPT4ge1xuICAgICAgaGFzUm9vdE1hcmtlcnMoZGlyZWN0b3JpZXMpXG4gICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICBjaGVja1Nob3VsZENvbXBsZXRlKGluZGV4LCByZXN1bHQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgIC8vIGlnbm9yZVxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlcG9zaXRvcnlSb290UGF0aFZpYURpcmVjdG9yeVNjYW4gPSBhc3luYyAoXG4gIGxvb2t1cERpcmVjdG9yeTogc3RyaW5nXG4pID0+IHtcbiAgY29uc3QgdW5pcXVlRGlybmFtZSA9IChwYXRoPzogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFwYXRoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IGRpcm5hbWUocGF0aCk7XG4gICAgaWYgKHJlc3VsdCA9PT0gcGF0aCkge1xuICAgICAgLy8gZS5nLiB0aGUgcGF0aCB3YXMgYWxyZWFkeSBhIHJvb3QgXCIvXCJcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICBjb25zdCBwYXJlbnQgPSB1bmlxdWVEaXJuYW1lKGxvb2t1cERpcmVjdG9yeSk7XG4gIGNvbnN0IHN1cGVyUGFyZW50ID0gdW5pcXVlRGlybmFtZShwYXJlbnQpO1xuXG4gIHJldHVybiAoXG4gICAgKGF3YWl0IHByaW9yaXRpemVkSGFzTWFya2VycyhcbiAgICAgIC8vIHNjYW4gaW4gbW9zdCBsaWtlbHkgbG9jYXRpb25zIGZpcnN0IHdpdGggY3VycmVudCBsb29rdXAgZGlyZWN0b3J5IHRha2luZyBwcmlvcml0eVxuICAgICAgW1xuICAgICAgICBbbG9va3VwRGlyZWN0b3J5XSxcbiAgICAgICAgZ2V0UmVwb3NpdG9yeVJvb3RTY2FuQ2FuZGlkYXRlcyhsb29rdXBEaXJlY3RvcnkpLFxuICAgICAgICAvLyBzY2FuIDIgZGlyZWN0b3JpZXMgdXB3YXJkc1xuICAgICAgICBbcGFyZW50XSxcbiAgICAgICAgW3N1cGVyUGFyZW50XSxcbiAgICAgIF1cbiAgICAgICAgLm1hcCgoZGlycykgPT4gZGlycy5maWx0ZXIoaXNUcnV0aHkpKVxuICAgICAgICAuZmlsdGVyKChqb2IpID0+IGpvYi5sZW5ndGggPiAwKVxuICAgICkpIHx8IGxvb2t1cERpcmVjdG9yeSAvKiBmYWxsYmFjayB0byBjdXJyZW50IGRpcmVjdG9yeSBpbiB3b3JzZSBzY2VuYXJpbyAqL1xuICApO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgcmVwb3NpdG9yeSByb290IHBhdGggYnkgc2Nhbm5pbmcgY3VycmVudCBhbmQgcGFyZW50IGRpcmVjdG9yaWVzXG4gKiBhbmQgbG9va2luZyBmb3IgbWFya2VyIGZpbGVzL2RpcnMgbGlrZTpcbiAqXG4gKiAtIC5naXRcbiAqIC0gcGFja2FnZS1sb2NrLmpzb25cbiAqIC0geWFybi5sb2NrXG4gKiAtIHBucG0tbG9jay55YW1sXG4gKiAtIHBucG0td29ya3NwYWNlLnlhbWxcbiAqL1xuZXhwb3J0IGNvbnN0IHJlcG9zaXRvcnlSb290UGF0aCA9IG9uY2VBc3luYyhhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHJvb3RQYXRoID0gYXdhaXQgcmVwb3NpdG9yeVJvb3RQYXRoVmlhRGlyZWN0b3J5U2Nhbihwcm9jZXNzLmN3ZCgpKTtcbiAgcmV0dXJuIHJvb3RQYXRoO1xufSk7XG4iLCJpbXBvcnQgeyByZWFkRmlsZSB9IGZyb20gJ25vZGU6ZnMvcHJvbWlzZXMnO1xuaW1wb3J0IHsgam9pbiB9IGZyb20gJ25vZGU6cGF0aCc7XG5cbmltcG9ydCB7IG9uY2VBc3luYyB9IGZyb20gJ0B1dGlscy90cyc7XG5pbXBvcnQgeyBsb2FkIH0gZnJvbSAnanMteWFtbCc7XG5cbmltcG9ydCB7IHJlcG9zaXRvcnlSb290UGF0aCB9IGZyb20gJy4vcmVwb3NpdG9yeVJvb3RQYXRoJztcblxuYXN5bmMgZnVuY3Rpb24gdHJ5UmVhZGluZ1BucG1Xb3Jrc3BhY2VZYW1sKG1vbm9yZXBvUm9vdDogc3RyaW5nKSB7XG4gIGNvbnN0IHRleHQgPSBhd2FpdCByZWFkRmlsZShcbiAgICBqb2luKG1vbm9yZXBvUm9vdCwgJ3BucG0td29ya3NwYWNlLnlhbWwnKSxcbiAgICAndXRmLTgnXG4gICk7XG4gIGNvbnN0IHJvb3RQYXRoID0gbG9hZCh0ZXh0KSBhcyB7XG4gICAgcGFja2FnZXM/OiBzdHJpbmdbXTtcbiAgfTtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkocm9vdFBhdGgucGFja2FnZXMpICYmIHJvb3RQYXRoLnBhY2thZ2VzLmxlbmd0aCA+IDBcbiAgICA/IHJvb3RQYXRoLnBhY2thZ2VzXG4gICAgOiB1bmRlZmluZWQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHRyeVJlYWRpbmdQYWNrYWdlSnNvbldvcmtzcGFjZXMobW9ub3JlcG9Sb290OiBzdHJpbmcpIHtcbiAgY29uc3QgdGV4dCA9IGF3YWl0IHJlYWRGaWxlKGpvaW4obW9ub3JlcG9Sb290LCAncGFja2FnZS5qc29uJyksICd1dGYtOCcpO1xuICBjb25zdCBwYWNrYWdlSnNvbiA9IEpTT04ucGFyc2UodGV4dCkgYXMge1xuICAgIHdvcmtzcGFjZXM/OiBzdHJpbmdbXTtcbiAgfTtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkocGFja2FnZUpzb24ud29ya3NwYWNlcykgJiZcbiAgICBwYWNrYWdlSnNvbi53b3Jrc3BhY2VzLmxlbmd0aCA+IDBcbiAgICA/IHBhY2thZ2VKc29uLndvcmtzcGFjZXNcbiAgICA6IHVuZGVmaW5lZDtcbn1cblxuY29uc3QgcmVhZFBhY2thZ2VzR2xvYnNBdCA9IGFzeW5jIChtb25vcmVwb1Jvb3Q6IHN0cmluZykgPT4ge1xuICBjb25zdCBbcG5wbVdvcmtzcGFjZXMsIHBhY2thZ2VKc29uV29ya3NwYWNlc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgdHJ5UmVhZGluZ1BucG1Xb3Jrc3BhY2VZYW1sKG1vbm9yZXBvUm9vdCkuY2F0Y2goKCkgPT4gdW5kZWZpbmVkKSxcbiAgICB0cnlSZWFkaW5nUGFja2FnZUpzb25Xb3Jrc3BhY2VzKG1vbm9yZXBvUm9vdCkuY2F0Y2goKCkgPT4gdW5kZWZpbmVkKSxcbiAgXSk7XG4gIHJldHVybiBwbnBtV29ya3NwYWNlcyB8fCBwYWNrYWdlSnNvbldvcmtzcGFjZXMgfHwgW107XG59O1xuXG4vKipcbiAqIERldGVybWluZSBtb25vcmVwbyBwYWNrYWdlcyBnbG9iIGJ5IHJlYWRpbmcgb25lIG9mIHRoZSBzdXBwb3J0ZWRcbiAqIGZpbGVzXG4gKlxuICogTk9URTogb25seSBwbnBtIGlzIHN1cHBvcnRlZCBhdCB0aGUgbW9tZW50XG4gKi9cbmV4cG9ydCBjb25zdCByZWFkTW9ub3JlcG9QYWNrYWdlc0dsb2JzID0gb25jZUFzeW5jKGFzeW5jICgpID0+IHtcbiAgY29uc3Qgcm9vdCA9IGF3YWl0IHJlcG9zaXRvcnlSb290UGF0aCgpO1xuICBjb25zdCBwYWNrYWdlc0dsb2JzID0gYXdhaXQgcmVhZFBhY2thZ2VzR2xvYnNBdChyb290KTtcbiAgcmV0dXJuIHtcbiAgICByb290LFxuICAgIHBhY2thZ2VzR2xvYnMsXG4gIH07XG59KTtcbiIsImltcG9ydCB7IG9uY2UgfSBmcm9tICdAdXRpbHMvdHMnO1xuXG5pbXBvcnQgeyBhc3luY1RvU3luYyB9IGZyb20gJy4uL3V0aWxzL2FzeW5jLXRvLXN5bmMnO1xuaW1wb3J0IHsgcmVhZE1vbm9yZXBvUGFja2FnZXNHbG9icyB9IGZyb20gJy4uL3V0aWxzL3JlYWRQYWNrYWdlc0dsb2JzJztcblxuZXhwb3J0IGNvbnN0IGVzbGludENvbmZpZ0hlbHBlcnMgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHsgcm9vdCwgcGFja2FnZXNHbG9icyB9ID0gYXdhaXQgcmVhZE1vbm9yZXBvUGFja2FnZXNHbG9icygpO1xuICBjb25zdCBnbG9icyA9IG5ldyBTZXQoXG4gICAgcGFja2FnZXNHbG9icy5tYXAoKGdsb2IpID0+XG4gICAgICBnbG9iICE9PSAnKicgPyBgJHtnbG9ifS90c2NvbmZpZy5qc29uYCA6ICd0c2NvbmZpZy5qc29uJ1xuICAgIClcbiAgKTtcbiAgcmV0dXJuIHtcbiAgICBtb25vcmVwb1Jvb3RQYXRoOiByb290LFxuICAgIHBhY2thZ2VzR2xvYnMsXG4gICAgdHNDb25maWdHbG9iczogZ2xvYnMuc2l6ZSA9PT0gMCA/IFsndHNjb25maWcuanNvbiddIDogWy4uLmdsb2JzXSxcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBzeW5jRXNsaW50Q29uZmlnSGVscGVycyA9IG9uY2UoKCkgPT4ge1xuICByZXR1cm4gYXN5bmNUb1N5bmM8QXdhaXRlZDxSZXR1cm5UeXBlPHR5cGVvZiBlc2xpbnRDb25maWdIZWxwZXJzPj4+KFxuICAgIGltcG9ydC5tZXRhLnVybCxcbiAgICAnZXNsaW50Q29uZmlnSGVscGVycycsXG4gICAgW11cbiAgKTtcbn0pO1xuIl0sIm5hbWVzIjpbInJhbmRvbUJ5dGVzIiwic3Bhd25TeW5jIiwiZmlsZVVSTFRvUGF0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
