#!/usr/bin/env node
// NOTE: This file is bundled up from './src/bin/*' and needs to be committed
import { assert } from 'node:console';
import { ChildProcess, spawn } from 'node:child_process';

function once(fn) {
  let value;
  let calculated = false;
  return () => {
    if (calculated) {
      return value;
    }
    value = fn();
    calculated = true;
    return value;
  };
}

var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
const levels = ["debug", "info", "warn", "error", "fatal"];
const enabledLevelsAfter = (level) => {
  if (level === "off") {
    return [];
  }
  const index = levels.findIndex((item) => item === level);
  if (index === -1) {
    throw new Error("Invalid level");
  }
  return levels.slice(index);
};
const isLevel = (level) => {
  return levels.includes(level);
};
const verbosityOpt = (args = process.argv) => {
  const index = args.findIndex((value) => value === "--verbosity");
  if (index === -1) {
    return "info";
  }
  const level = args[index + 1];
  if (level === "silent" || level === "off") {
    return "off";
  }
  if (!isLevel(level)) {
    return "info";
  }
  return level;
};
const enabledLevels = once(() => enabledLevelsAfter(verbosityOpt()));
const noop = (..._args) => {
  return;
};
const log = (...args) => {
  console.log(...args);
};
const error = (...args) => {
  console.error(...args);
};
const createLogger = (enabled = enabledLevels()) => {
  return levels.reduce((acc, lvl) => {
    return __spreadProps(__spreadValues({}, acc), {
      [lvl]: enabled.includes(lvl) ? ["fatal", "error"].includes(lvl) ? error : log : noop
    });
  }, {
    log: enabled.includes("info") ? log : noop
  });
};
const logger = Object.freeze(createLogger());

function captureStackTrace(remove = 0) {
  const stackContainer = {
    stack: ""
  };
  Error.captureStackTrace(stackContainer);
  const stackTrace = stackContainer.stack.split("\n").slice(6 + remove).join("\n");
  return {
    stackTrace,
    prepareForRethrow: (err) => {
      const oldStackTrace = err.stack ?? "".split("\n").slice(1).join("\n");
      err.stack = `${err.name || "Error"}: ${err.message}
${oldStackTrace}
${stackTrace}`;
      return err;
    }
  };
}

function isSpawnArgs(args) {
  return !(args[0] instanceof ChildProcess) && typeof args[0] === "string";
}
function spawnWithSpawnParameters(parameters) {
  const [child, [command, args, opts]] = isSpawnArgs(parameters) ? [
    spawn(...parameters),
    parameters
  ] : [
    parameters[0],
    [
      parameters[0].spawnfile,
      parameters[0].spawnargs.slice(1),
      parameters[1]
    ]
  ];
  return {
    child,
    command,
    args,
    opts
  };
}
async function spawnToPromise(...parameters) {
  const { child, command, args, opts } = spawnWithSpawnParameters(parameters);
  const { prepareForRethrow } = captureStackTrace();
  const exitCodes = (opts == null ? void 0 : opts.exitCodes) || "inherit";
  const cwd = (opts == null ? void 0 : opts.cwd) ? opts.cwd.toString() : void 0;
  const cmd = () => [command, ...args ? args : []].join(" ");
  logger.log([">", cmd()].join(" "), ...cwd ? [`in ${cwd}`] : []);
  await new Promise((res, rej) => child.on("close", (code, signal) => {
    if (typeof code === "number") {
      if (exitCodes !== "inherit" && !exitCodes.includes(code)) {
        rej(prepareForRethrow(new Error(`Command "${cmd()}" has failed with code ${code}`)));
      } else {
        res();
      }
    } else if (signal) {
      rej(prepareForRethrow(new Error(`Failed to execute command "${cmd()}" - ${signal}`)));
    } else {
      throw prepareForRethrow(new Error("Expected signal or error code"));
    }
  }).on("error", rej));
  if (exitCodes === "inherit") {
    if (typeof child.exitCode === "number" && (typeof process.exitCode !== "number" || process.exitCode === 0)) {
      process.exitCode = child.exitCode;
    }
  }
}

async function spawnOutput(...parameters) {
  var _a, _b, _c, _d;
  const { child, opts } = spawnWithSpawnParameters(parameters);
  const combinedData = [];
  const output = (opts == null ? void 0 : opts.output) ?? ["stdout", "stderr"];
  if (output.includes("stdout")) {
    assert(!!child.stdout, 'Expected ".stdout" to be defined, which will only be defined if child process is spawned with correct parameters');
    (_a = child.stdout) == null ? void 0 : _a.setEncoding("utf-8");
    (_b = child.stdout) == null ? void 0 : _b.on("data", (data) => {
      combinedData.push(data);
    });
  }
  if (output.includes("stderr")) {
    assert(!!child.stderr, 'Expected ".stderr" to be defined, which will only be defined if child process is spawned with correct parameters');
    (_c = child.stderr) == null ? void 0 : _c.setEncoding("utf-8");
    (_d = child.stderr) == null ? void 0 : _d.on("data", (data) => {
      combinedData.push(data);
    });
  }
  await spawnToPromise(child, {
    exitCodes: (opts == null ? void 0 : opts.exitCodes) ?? [0],
    cwd: opts == null ? void 0 : opts.cwd
  });
  return combinedData.join("");
}

const binPath = (bin) => new URL(`../node_modules/.bin/${bin}`, import.meta.url).pathname;
async function runBin(bin, args = process.argv.slice(2)) {
  await spawnToPromise(binPath(bin), args, {
    stdio: "inherit"
  });
}

const lintStaged = async () => {
  await runBin("lint-staged", process.argv.slice(2).filter((arg) => arg !== "--dry-run"));
};
const stashIncludeUntrackedKeepIndex = async () => {
  const stagedOut = await spawnOutput("git", "diff --name-only --cached".split(" "));
  const staged = new Set(stagedOut.split("\n").filter(Boolean));
  await spawnToPromise("git", 'commit --quiet --no-verify -m "lint-staged-temporary"'.split(" "), {
    exitCodes: [0]
  });
  await spawnToPromise("git", "stash -u".split(" "), {
    exitCodes: [0]
  });
  await spawnToPromise("git", "reset --quiet --soft HEAD~1".split(" "), {
    exitCodes: [0]
  });
  return [...staged];
};
const applyStashed = async () => {
  await spawnToPromise("git", "stash pop".split(" "), {
    exitCodes: [0],
    stdio: "inherit"
  });
};
const run = async () => {
  const staged = await stashIncludeUntrackedKeepIndex();
  try {
    await lintStaged();
  } finally {
    await applyStashed().catch((err) => {
      console.error(err);
      console.log("To at least restore list of staged files after resolution, try this: \n\n", `git reset && git add ${staged.map((file) => `'${file}'`).join(" ")} 

`);
      return Promise.resolve();
    });
  }
};
await run();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGludC1zdGFnZWQuZ2VuLm1qcyIsInNvdXJjZXMiOlsiLi4vc3JjL3V0aWxzL29uY2UudHMiLCIuLi9zcmMvbG9nZ2VyL2xvZ2dlci50cyIsIi4uL3NyYy91dGlscy9zdGFja1RyYWNlLnRzIiwiLi4vc3JjL2NoaWxkLXByb2Nlc3Mvc3Bhd25Ub1Byb21pc2UudHMiLCIuLi9zcmMvY2hpbGQtcHJvY2Vzcy9zcGF3bk91dHB1dC50cyIsIi4uL3NyYy9iaW4vcnVuQmluLnRzIiwiLi4vc3JjL2Jpbi9saW50LXN0YWdlZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gb25jZTxUPihmbjogKCkgPT4gVCk6ICgpID0+IFQge1xuICBsZXQgdmFsdWU6IFQ7XG4gIGxldCBjYWxjdWxhdGVkID0gZmFsc2U7XG4gIHJldHVybiAoKTogVCA9PiB7XG4gICAgaWYgKGNhbGN1bGF0ZWQpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgdmFsdWUgPSBmbigpO1xuICAgIGNhbGN1bGF0ZWQgPSB0cnVlO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IG9uY2UgfSBmcm9tICcuLi91dGlscy9vbmNlJztcblxuY29uc3QgbGV2ZWxzID0gWydkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InLCAnZmF0YWwnXSBhcyBjb25zdDtcblxudHlwZSBMb2dMZXZlbCA9IHR5cGVvZiBsZXZlbHNbbnVtYmVyXTtcblxudHlwZSBQYXJhbXMgPSBQYXJhbWV0ZXJzPHR5cGVvZiBjb25zb2xlLmxvZz47XG5cbnR5cGUgTG9nZ2VyID0ge1xuICBkZWJ1ZyguLi5wYXJhbXM6IFBhcmFtcyk6IHZvaWQ7XG4gIGluZm8oLi4ucGFyYW1zOiBQYXJhbXMpOiB2b2lkO1xuICBsb2coLi4ucGFyYW1zOiBQYXJhbXMpOiB2b2lkO1xuICB3YXJuKC4uLnBhcmFtczogUGFyYW1zKTogdm9pZDtcbiAgZXJyb3IoLi4ucGFyYW1zOiBQYXJhbXMpOiB2b2lkO1xuICBmYXRhbCguLi5wYXJhbXM6IFBhcmFtcyk6IHZvaWQ7XG59O1xuXG5jb25zdCBlbmFibGVkTGV2ZWxzQWZ0ZXIgPSAobGV2ZWw6IExvZ0xldmVsIHwgJ29mZicpID0+IHtcbiAgaWYgKGxldmVsID09PSAnb2ZmJykge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBpbmRleCA9IGxldmVscy5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0gPT09IGxldmVsKTtcbiAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBsZXZlbCcpO1xuICB9XG4gIHJldHVybiBsZXZlbHMuc2xpY2UoaW5kZXgpO1xufTtcblxuY29uc3QgaXNMZXZlbCA9IChsZXZlbD86IHN0cmluZyk6IGxldmVsIGlzIExvZ0xldmVsID0+IHtcbiAgcmV0dXJuIGxldmVscy5pbmNsdWRlcyhsZXZlbCBhcyBMb2dMZXZlbCk7XG59O1xuXG5jb25zdCB2ZXJib3NpdHlPcHQgPSAoYXJncyA9IHByb2Nlc3MuYXJndik6IExvZ0xldmVsIHwgJ29mZicgPT4ge1xuICBjb25zdCBpbmRleCA9IGFyZ3MuZmluZEluZGV4KCh2YWx1ZSkgPT4gdmFsdWUgPT09ICctLXZlcmJvc2l0eScpO1xuICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgcmV0dXJuICdpbmZvJztcbiAgfVxuICBjb25zdCBsZXZlbCA9IGFyZ3NbaW5kZXggKyAxXTtcbiAgaWYgKGxldmVsID09PSAnc2lsZW50JyB8fCBsZXZlbCA9PT0gJ29mZicpIHtcbiAgICByZXR1cm4gJ29mZic7XG4gIH1cbiAgaWYgKCFpc0xldmVsKGxldmVsKSkge1xuICAgIHJldHVybiAnaW5mbyc7XG4gIH1cbiAgcmV0dXJuIGxldmVsO1xufTtcblxuY29uc3QgZW5hYmxlZExldmVscyA9IG9uY2UoKCkgPT4gZW5hYmxlZExldmVsc0FmdGVyKHZlcmJvc2l0eU9wdCgpKSk7XG5cbmNvbnN0IG5vb3AgPSAoLi4uX2FyZ3M6IFBhcmFtcykgPT4ge1xuICByZXR1cm47XG59O1xuXG5jb25zdCBsb2cgPSAoLi4uYXJnczogUGFyYW1zKSA9PiB7XG4gIGNvbnNvbGUubG9nKC4uLmFyZ3MpO1xufTtcblxuY29uc3QgZXJyb3IgPSAoLi4uYXJnczogUGFyYW1zKSA9PiB7XG4gIGNvbnNvbGUuZXJyb3IoLi4uYXJncyk7XG59O1xuXG5jb25zdCBjcmVhdGVMb2dnZXIgPSAoZW5hYmxlZCA9IGVuYWJsZWRMZXZlbHMoKSkgPT4ge1xuICByZXR1cm4gbGV2ZWxzLnJlZHVjZShcbiAgICAoYWNjLCBsdmwpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmFjYyxcbiAgICAgICAgW2x2bF06IGVuYWJsZWQuaW5jbHVkZXMobHZsKVxuICAgICAgICAgID8gWydmYXRhbCcsICdlcnJvciddLmluY2x1ZGVzKGx2bClcbiAgICAgICAgICAgID8gZXJyb3JcbiAgICAgICAgICAgIDogbG9nXG4gICAgICAgICAgOiBub29wLFxuICAgICAgfTtcbiAgICB9LFxuICAgIHtcbiAgICAgIGxvZzogZW5hYmxlZC5pbmNsdWRlcygnaW5mbycpID8gbG9nIDogbm9vcCxcbiAgICB9IGFzIExvZ2dlclxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IGxvZ2dlcjogTG9nZ2VyID0gT2JqZWN0LmZyZWV6ZShjcmVhdGVMb2dnZXIoKSk7XG4iLCIvKipcbiAqIENhcHR1cmUgdGhlIHN0YWNrIHRyYWNlIGFuZCBhbGxvdyB0byBlbnJpY2ggZXhjZXB0aW9ucyB0aHJvd24gaW4gYXN5bmNocm9ub3VzIGNhbGxiYWNrc1xuICogd2l0aCBhZGRpdGlvbmFsIHN0YWNrIGluZm9ybWF0aW9uIGNhcHR1cmVkIGF0IHRoZSBtb21lbnQgb2YgdGhlIGNhbGwgb2YgdGhpcyBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FwdHVyZVN0YWNrVHJhY2UocmVtb3ZlID0gMCkge1xuICBjb25zdCBzdGFja0NvbnRhaW5lciA9IHtcbiAgICBzdGFjazogJycsXG4gIH07XG4gIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHN0YWNrQ29udGFpbmVyKTtcbiAgY29uc3Qgc3RhY2tUcmFjZSA9IHN0YWNrQ29udGFpbmVyLnN0YWNrXG4gICAgLnNwbGl0KCdcXG4nKVxuICAgIC5zbGljZSg2ICsgcmVtb3ZlKVxuICAgIC5qb2luKCdcXG4nKTtcbiAgcmV0dXJuIHtcbiAgICAvKipcbiAgICAgKiBDYXB0dXJlZCBzdGFjayB0cmFjZSBpbmZvcm1hdGlvblxuICAgICAqL1xuICAgIHN0YWNrVHJhY2UsXG4gICAgLyoqXG4gICAgICogQ2FuIGJlIGNhbGxlZCBpbiBhc3luY2hyb25vdXMgY2FsbGJhY2sgdG8gZW5yaWNoIGV4Y2VwdGlvbnMgd2l0aCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gICAgICogQHBhcmFtIGVyciBFeGNlcHRpb24gdG8gZW5yaWNoIC0gaXQgaXMgZ29pbmcgdG8gaGF2ZSBpdHMgYC5zdGFja2AgcHJvcCBtdXRhdGVkXG4gICAgICogQHJldHVybnMgU2FtZSBleGNlcHRpb25cbiAgICAgKi9cbiAgICBwcmVwYXJlRm9yUmV0aHJvdzogKGVycjogRXJyb3IpID0+IHtcbiAgICAgIGNvbnN0IG9sZFN0YWNrVHJhY2UgPSBlcnIuc3RhY2sgPz8gJycuc3BsaXQoJ1xcbicpLnNsaWNlKDEpLmpvaW4oJ1xcbicpO1xuICAgICAgZXJyLnN0YWNrID0gYCR7ZXJyLm5hbWUgfHwgJ0Vycm9yJ306ICR7XG4gICAgICAgIGVyci5tZXNzYWdlXG4gICAgICB9XFxuJHtvbGRTdGFja1RyYWNlfVxcbiR7c3RhY2tUcmFjZX1gO1xuICAgICAgcmV0dXJuIGVycjtcbiAgICB9LFxuICB9O1xufVxuIiwiaW1wb3J0IHR5cGUgeyBTcGF3bk9wdGlvbnMgfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCB7IENoaWxkUHJvY2VzcyB9IGZyb20gJ2NoaWxkX3Byb2Nlc3MnO1xuaW1wb3J0IHsgc3Bhd24gfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCB0eXBlIHsgQXNzaWduIH0gZnJvbSAndXRpbGl0eS10eXBlcyc7XG5cbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uL2xvZ2dlci9sb2dnZXInO1xuaW1wb3J0IHsgY2FwdHVyZVN0YWNrVHJhY2UgfSBmcm9tICcuLi91dGlscy9zdGFja1RyYWNlJztcblxuZXhwb3J0IHR5cGUgU3Bhd25Ub1Byb21pc2VFeHRyYSA9IHtcbiAgZXhpdENvZGVzPzogbnVtYmVyW10gfCAnaW5oZXJpdCc7XG59O1xuXG50eXBlIFNoYXJlZE9wdHMgPSBQaWNrPFNwYXduT3B0aW9ucywgJ2N3ZCc+O1xuXG50eXBlIFNwYXduQXJnczxFIGV4dGVuZHMgb2JqZWN0PiA9IFtcbiAgY29tbWFuZDogc3RyaW5nLFxuICBhcmdzPzogUmVhZG9ubHlBcnJheTxzdHJpbmc+LFxuICBvcHRpb25zPzogQXNzaWduPFNwYXduT3B0aW9ucywgRT5cbl07XG5cbmV4cG9ydCB0eXBlIFNwYXduUGFyYW1ldGVyTWl4PEUgZXh0ZW5kcyBvYmplY3QgPSBTcGF3blRvUHJvbWlzZUV4dHJhPiA9XG4gIHwgW2NwOiBDaGlsZFByb2Nlc3MsIGV4dHJhT3B0cz86IEFzc2lnbjxFLCBTaGFyZWRPcHRzPl1cbiAgfCBTcGF3bkFyZ3M8RT47XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NwYXduQXJnczxFIGV4dGVuZHMgb2JqZWN0PihcbiAgYXJnczogU3Bhd25QYXJhbWV0ZXJNaXg8RT5cbik6IGFyZ3MgaXMgU3Bhd25BcmdzPEU+IHtcbiAgcmV0dXJuICEoYXJnc1swXSBpbnN0YW5jZW9mIENoaWxkUHJvY2VzcykgJiYgdHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3Bhd25XaXRoU3Bhd25QYXJhbWV0ZXJzPEUgZXh0ZW5kcyBvYmplY3Q+KFxuICBwYXJhbWV0ZXJzOiBTcGF3blBhcmFtZXRlck1peDxFPlxuKSB7XG4gIGNvbnN0IFtjaGlsZCwgW2NvbW1hbmQsIGFyZ3MsIG9wdHNdXSA9IGlzU3Bhd25BcmdzKHBhcmFtZXRlcnMpXG4gICAgPyBbXG4gICAgICAgIHNwYXduKC4uLihwYXJhbWV0ZXJzIGFzIHVua25vd24gYXMgUGFyYW1ldGVyczx0eXBlb2Ygc3Bhd24+KSksXG4gICAgICAgIHBhcmFtZXRlcnMsXG4gICAgICBdXG4gICAgOiBbXG4gICAgICAgIHBhcmFtZXRlcnNbMF0sXG4gICAgICAgIFtcbiAgICAgICAgICBwYXJhbWV0ZXJzWzBdLnNwYXduZmlsZSxcbiAgICAgICAgICBwYXJhbWV0ZXJzWzBdLnNwYXduYXJncy5zbGljZSgxKSxcbiAgICAgICAgICBwYXJhbWV0ZXJzWzFdIGFzIEFzc2lnbjxTcGF3bk9wdGlvbnMsIEU+LFxuICAgICAgICBdLFxuICAgICAgXTtcbiAgcmV0dXJuIHtcbiAgICBjaGlsZCxcbiAgICBjb21tYW5kLFxuICAgIGFyZ3MsXG4gICAgb3B0cyxcbiAgfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNwYXduVG9Qcm9taXNlKFxuICAuLi5wYXJhbWV0ZXJzOiBTcGF3blBhcmFtZXRlck1peFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHsgY2hpbGQsIGNvbW1hbmQsIGFyZ3MsIG9wdHMgfSA9IHNwYXduV2l0aFNwYXduUGFyYW1ldGVycyhwYXJhbWV0ZXJzKTtcbiAgY29uc3QgeyBwcmVwYXJlRm9yUmV0aHJvdyB9ID0gY2FwdHVyZVN0YWNrVHJhY2UoKTtcblxuICAvLyBieSBkZWZhdWx0IHdlIGRvIG5vdCB0aHJvdyBpZiBleGl0IGNvZGUgaXMgbm9uLXplcm9cbiAgLy8gYW5kIGluc3RlYWQganVzdCBpbmhlcml0IHRoZSBleGl0IGNvZGUgaW50byB0aGUgbWFpblxuICAvLyBwcm9jZXNzXG4gIGNvbnN0IGV4aXRDb2RlcyA9IG9wdHM/LmV4aXRDb2RlcyB8fCAnaW5oZXJpdCc7XG5cbiAgY29uc3QgY3dkID0gb3B0cz8uY3dkID8gb3B0cy5jd2QudG9TdHJpbmcoKSA6IHVuZGVmaW5lZDtcblxuICBjb25zdCBjbWQgPSAoKSA9PiBbY29tbWFuZCwgLi4uKGFyZ3MgPyBhcmdzIDogW10pXS5qb2luKCcgJyk7XG5cbiAgbG9nZ2VyLmxvZyhbJz4nLCBjbWQoKV0uam9pbignICcpLCAuLi4oY3dkID8gW2BpbiAke2N3ZH1gXSA6IFtdKSk7XG5cbiAgYXdhaXQgbmV3IFByb21pc2U8dm9pZD4oKHJlcywgcmVqKSA9PlxuICAgIGNoaWxkXG4gICAgICAub24oJ2Nsb3NlJywgKGNvZGUsIHNpZ25hbCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGNvZGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgaWYgKGV4aXRDb2RlcyAhPT0gJ2luaGVyaXQnICYmICFleGl0Q29kZXMuaW5jbHVkZXMoY29kZSkpIHtcbiAgICAgICAgICAgIHJlaihcbiAgICAgICAgICAgICAgcHJlcGFyZUZvclJldGhyb3coXG4gICAgICAgICAgICAgICAgbmV3IEVycm9yKGBDb21tYW5kIFwiJHtjbWQoKX1cIiBoYXMgZmFpbGVkIHdpdGggY29kZSAke2NvZGV9YClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNpZ25hbCkge1xuICAgICAgICAgIHJlaihcbiAgICAgICAgICAgIHByZXBhcmVGb3JSZXRocm93KFxuICAgICAgICAgICAgICBuZXcgRXJyb3IoYEZhaWxlZCB0byBleGVjdXRlIGNvbW1hbmQgXCIke2NtZCgpfVwiIC0gJHtzaWduYWx9YClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IHByZXBhcmVGb3JSZXRocm93KG5ldyBFcnJvcignRXhwZWN0ZWQgc2lnbmFsIG9yIGVycm9yIGNvZGUnKSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAub24oJ2Vycm9yJywgcmVqKVxuICApO1xuICAvLyBpbmhlcml0IGV4aXQgY29kZVxuICBpZiAoZXhpdENvZGVzID09PSAnaW5oZXJpdCcpIHtcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgY2hpbGQuZXhpdENvZGUgPT09ICdudW1iZXInICYmXG4gICAgICAodHlwZW9mIHByb2Nlc3MuZXhpdENvZGUgIT09ICdudW1iZXInIHx8IHByb2Nlc3MuZXhpdENvZGUgPT09IDApXG4gICAgKSB7XG4gICAgICBwcm9jZXNzLmV4aXRDb2RlID0gY2hpbGQuZXhpdENvZGU7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBhc3NlcnQgfSBmcm9tICdjb25zb2xlJztcblxuaW1wb3J0IHR5cGUgeyBTcGF3blBhcmFtZXRlck1peCwgU3Bhd25Ub1Byb21pc2VFeHRyYSB9IGZyb20gJy4vc3Bhd25Ub1Byb21pc2UnO1xuaW1wb3J0IHsgc3Bhd25XaXRoU3Bhd25QYXJhbWV0ZXJzIH0gZnJvbSAnLi9zcGF3blRvUHJvbWlzZSc7XG5pbXBvcnQgeyBzcGF3blRvUHJvbWlzZSB9IGZyb20gJy4vc3Bhd25Ub1Byb21pc2UnO1xuXG50eXBlIEV4dHJhU3Bhd25PdXRwdXRPcHRzID0ge1xuICBvdXRwdXQ/OiBbJ3N0ZG91dCcgfCAnc3RkZXJyJywgLi4uQXJyYXk8J3N0ZG91dCcgfCAnc3RkZXJyJz5dO1xufSAmIFNwYXduVG9Qcm9taXNlRXh0cmE7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzcGF3bk91dHB1dChcbiAgLi4ucGFyYW1ldGVyczogU3Bhd25QYXJhbWV0ZXJNaXg8RXh0cmFTcGF3bk91dHB1dE9wdHM+XG4pOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCB7IGNoaWxkLCBvcHRzIH0gPSBzcGF3bldpdGhTcGF3blBhcmFtZXRlcnMocGFyYW1ldGVycyk7XG4gIGNvbnN0IGNvbWJpbmVkRGF0YTogc3RyaW5nW10gPSBbXTtcbiAgY29uc3Qgb3V0cHV0ID0gb3B0cz8ub3V0cHV0ID8/IFsnc3Rkb3V0JywgJ3N0ZGVyciddO1xuICBpZiAob3V0cHV0LmluY2x1ZGVzKCdzdGRvdXQnKSkge1xuICAgIGFzc2VydChcbiAgICAgICEhY2hpbGQuc3Rkb3V0LFxuICAgICAgJ0V4cGVjdGVkIFwiLnN0ZG91dFwiIHRvIGJlIGRlZmluZWQsIHdoaWNoIHdpbGwgb25seSBiZSBkZWZpbmVkIGlmIGNoaWxkIHByb2Nlc3MgaXMgc3Bhd25lZCB3aXRoIGNvcnJlY3QgcGFyYW1ldGVycydcbiAgICApO1xuICAgIGNoaWxkLnN0ZG91dD8uc2V0RW5jb2RpbmcoJ3V0Zi04Jyk7XG4gICAgY2hpbGQuc3Rkb3V0Py5vbignZGF0YScsIChkYXRhOiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbWJpbmVkRGF0YS5wdXNoKGRhdGEpO1xuICAgIH0pO1xuICB9XG4gIGlmIChvdXRwdXQuaW5jbHVkZXMoJ3N0ZGVycicpKSB7XG4gICAgYXNzZXJ0KFxuICAgICAgISFjaGlsZC5zdGRlcnIsXG4gICAgICAnRXhwZWN0ZWQgXCIuc3RkZXJyXCIgdG8gYmUgZGVmaW5lZCwgd2hpY2ggd2lsbCBvbmx5IGJlIGRlZmluZWQgaWYgY2hpbGQgcHJvY2VzcyBpcyBzcGF3bmVkIHdpdGggY29ycmVjdCBwYXJhbWV0ZXJzJ1xuICAgICk7XG4gICAgY2hpbGQuc3RkZXJyPy5zZXRFbmNvZGluZygndXRmLTgnKTtcbiAgICBjaGlsZC5zdGRlcnI/Lm9uKCdkYXRhJywgKGRhdGE6IHN0cmluZykgPT4ge1xuICAgICAgY29tYmluZWREYXRhLnB1c2goZGF0YSk7XG4gICAgfSk7XG4gIH1cbiAgYXdhaXQgc3Bhd25Ub1Byb21pc2UoY2hpbGQsIHtcbiAgICAvLyBzaW5jZSB3ZSBleHBlY3QgYW4gb3V0cHV0LCB3ZSBzaG91bGQgZG91YmxlIGNoZWNrXG4gICAgLy8gdGhhdCB3ZSBhcmUgb25seSBpbnRlcnByZXRpbmcgb3V0cHV0IGlmIHRoZSBjaGlsZCBwcm9jZXNzXG4gICAgLy8gaXMgZG9uZSBzdWNjZXNzZnVsbHlcbiAgICBleGl0Q29kZXM6IG9wdHM/LmV4aXRDb2RlcyA/PyBbMF0sXG4gICAgY3dkOiBvcHRzPy5jd2QsXG4gIH0pO1xuICByZXR1cm4gY29tYmluZWREYXRhLmpvaW4oJycpO1xufVxuIiwiaW1wb3J0IHsgc3Bhd25Ub1Byb21pc2UgfSBmcm9tICcuLi9jaGlsZC1wcm9jZXNzJztcblxuLy8gTk9URTogcGF0aCByZWxhdGl2ZSB0byB0aGUgLi9iaW4gYXQgdGhlIHJvb3Qgb2YgdGhlIHBhY2thZ2Ugd2hlcmVcbi8vIHRoaXMgZmlsZSBpcyBnb2luZyB0byByZXNpZGVcbmNvbnN0IGJpblBhdGggPSAoYmluOiBzdHJpbmcpID0+XG4gIG5ldyBVUkwoYC4uL25vZGVfbW9kdWxlcy8uYmluLyR7YmlufWAsIGltcG9ydC5tZXRhLnVybCkucGF0aG5hbWU7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5CaW4oYmluOiBzdHJpbmcsIGFyZ3MgPSBwcm9jZXNzLmFyZ3Yuc2xpY2UoMikpIHtcbiAgYXdhaXQgc3Bhd25Ub1Byb21pc2UoYmluUGF0aChiaW4pLCBhcmdzLCB7XG4gICAgc3RkaW86ICdpbmhlcml0JyxcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBzcGF3bk91dHB1dCwgc3Bhd25Ub1Byb21pc2UgfSBmcm9tICcuLi9jaGlsZC1wcm9jZXNzJztcbmltcG9ydCB7IHJ1bkJpbiB9IGZyb20gJy4vcnVuQmluJztcblxuY29uc3QgbGludFN0YWdlZCA9IGFzeW5jICgpID0+IHtcbiAgYXdhaXQgcnVuQmluKFxuICAgICdsaW50LXN0YWdlZCcsXG4gICAgcHJvY2Vzcy5hcmd2LnNsaWNlKDIpLmZpbHRlcigoYXJnKSA9PiBhcmcgIT09ICctLWRyeS1ydW4nKVxuICApO1xufTtcblxuY29uc3Qgc3Rhc2hJbmNsdWRlVW50cmFja2VkS2VlcEluZGV4ID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBzdGFnZWRPdXQgPSBhd2FpdCBzcGF3bk91dHB1dChcbiAgICAnZ2l0JyxcbiAgICAnZGlmZiAtLW5hbWUtb25seSAtLWNhY2hlZCcuc3BsaXQoJyAnKVxuICApO1xuICBjb25zdCBzdGFnZWQgPSBuZXcgU2V0KHN0YWdlZE91dC5zcGxpdCgnXFxuJykuZmlsdGVyKEJvb2xlYW4pKTtcbiAgYXdhaXQgc3Bhd25Ub1Byb21pc2UoXG4gICAgJ2dpdCcsXG4gICAgJ2NvbW1pdCAtLXF1aWV0IC0tbm8tdmVyaWZ5IC1tIFwibGludC1zdGFnZWQtdGVtcG9yYXJ5XCInLnNwbGl0KCcgJyksXG4gICAge1xuICAgICAgZXhpdENvZGVzOiBbMF0sXG4gICAgfVxuICApO1xuICBhd2FpdCBzcGF3blRvUHJvbWlzZSgnZ2l0JywgJ3N0YXNoIC11Jy5zcGxpdCgnICcpLCB7XG4gICAgZXhpdENvZGVzOiBbMF0sXG4gIH0pO1xuICBhd2FpdCBzcGF3blRvUHJvbWlzZSgnZ2l0JywgJ3Jlc2V0IC0tcXVpZXQgLS1zb2Z0IEhFQUR+MScuc3BsaXQoJyAnKSwge1xuICAgIGV4aXRDb2RlczogWzBdLFxuICB9KTtcbiAgcmV0dXJuIFsuLi5zdGFnZWRdO1xufTtcblxuY29uc3QgYXBwbHlTdGFzaGVkID0gYXN5bmMgKCkgPT4ge1xuICBhd2FpdCBzcGF3blRvUHJvbWlzZSgnZ2l0JywgJ3N0YXNoIHBvcCcuc3BsaXQoJyAnKSwge1xuICAgIGV4aXRDb2RlczogWzBdLFxuICAgIHN0ZGlvOiAnaW5oZXJpdCcsXG4gIH0pO1xufTtcblxuY29uc3QgcnVuID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBzdGFnZWQgPSBhd2FpdCBzdGFzaEluY2x1ZGVVbnRyYWNrZWRLZWVwSW5kZXgoKTtcbiAgdHJ5IHtcbiAgICBhd2FpdCBsaW50U3RhZ2VkKCk7XG4gIH0gZmluYWxseSB7XG4gICAgYXdhaXQgYXBwbHlTdGFzaGVkKCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICdUbyBhdCBsZWFzdCByZXN0b3JlIGxpc3Qgb2Ygc3RhZ2VkIGZpbGVzIGFmdGVyIHJlc29sdXRpb24sIHRyeSB0aGlzOiBcXG5cXG4nLFxuICAgICAgICBgZ2l0IHJlc2V0ICYmIGdpdCBhZGQgJHtzdGFnZWRcbiAgICAgICAgICAubWFwKChmaWxlKSA9PiBgJyR7ZmlsZX0nYClcbiAgICAgICAgICAuam9pbignICcpfSBcXG5cXG5gXG4gICAgICApO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG59O1xuXG5hd2FpdCBydW4oKTtcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFPLFNBQUEsSUFBQSxDQUFpQixFQUFzQixFQUFBO0FBQzVDLEVBQUksSUFBQSxLQUFBLENBQUE7QUFDSixFQUFBLElBQUksVUFBYSxHQUFBLEtBQUEsQ0FBQTtBQUNqQixFQUFBLE9BQU8sTUFBUztBQUNkLElBQUEsSUFBSSxVQUFZLEVBQUE7QUFDZCxNQUFPLE9BQUEsS0FBQSxDQUFBO0FBQUEsS0FDVDtBQUNBLElBQUEsS0FBQSxHQUFRLEVBQUcsRUFBQSxDQUFBO0FBQ1gsSUFBYSxVQUFBLEdBQUEsSUFBQSxDQUFBO0FBQ2IsSUFBTyxPQUFBLEtBQUEsQ0FBQTtBQUFBLEdBQ1QsQ0FBQTtBQUNGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNUQSxNQUFNLFNBQVMsQ0FBQyxPQUFBLEVBQVMsTUFBUSxFQUFBLE1BQUEsRUFBUSxTQUFTLE9BQU8sQ0FBQSxDQUFBO0FBZXpELE1BQU0sa0JBQUEsR0FBcUIsQ0FBQyxLQUE0QixLQUFBO0FBQ3RELEVBQUEsSUFBSSxVQUFVLEtBQU8sRUFBQTtBQUNuQixJQUFBLE9BQU8sRUFBQyxDQUFBO0FBQUEsR0FDVjtBQUNBLEVBQUEsTUFBTSxRQUFRLE1BQU8sQ0FBQSxTQUFBLENBQVUsQ0FBQyxJQUFBLEtBQVMsU0FBUyxLQUFLLENBQUEsQ0FBQTtBQUN2RCxFQUFBLElBQUksVUFBVSxDQUFJLENBQUEsRUFBQTtBQUNoQixJQUFNLE1BQUEsSUFBSSxNQUFNLGVBQWUsQ0FBQSxDQUFBO0FBQUEsR0FDakM7QUFDQSxFQUFPLE9BQUEsTUFBQSxDQUFPLE1BQU0sS0FBSyxDQUFBLENBQUE7QUFDM0IsQ0FBQSxDQUFBO0FBRUEsTUFBTSxPQUFBLEdBQVUsQ0FBQyxL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
